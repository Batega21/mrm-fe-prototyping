<!DOCTYPE html>
<html><head><meta name="GCD" content="YTk3ODQ3ZWZhN2I4NzZmMzBkNTEwYjJl1db24f9c764366ff9a291fbec61fa76e">
  <meta charset="utf-8">
  <meta name="generator" content="Google Web Designer 1.7.0.1114">
  <meta name="template" content="Banner 2.3.2">
  <meta name="environment" content="gwd-doubleclick">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="gwdtaparea_style.css" rel="stylesheet" data-version="4" data-exports-type="gwd-taparea">
  <!-- <script src="src/banner-init.js"></script> -->
  <style type="text/css" id="gwd-lightbox-style">.gwd-lightbox{overflow:hidden}</style>
  <style type="text/css" id="gwd-text-style">p{margin:0px}h1{margin:0px}h2{margin:0px}h3{margin:0px}</style>
  <style type="text/css">html,body{width:100%;height:100%;margin:0px}.gwd-page-container{position:relative;width:100%;height:100%}.gwd-page-content{transform:matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);-webkit-transform:matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);-moz-transform:matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);perspective:1400px;-webkit-perspective:1400px;-moz-perspective:1400px;transform-style:preserve-3d;-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;position:absolute;background-color:transparent}.gwd-page-wrapper{position:absolute;transform:translateZ(0);-webkit-transform:translateZ(0);-moz-transform:translateZ(0);background-color:#fff}.gwd-page-size{width:970px;height:250px}.gwd-img-1o9m{position:absolute;width:100%;height:100%;left:0px;top:0px;opacity:1}.gwd-img-czzh{position:absolute;width:111px;height:24px;left:351px;top:145px;opacity:0}.gwd-imagebutton-1xp6{position:absolute;width:111px;height:24px;left:351px;top:146px;transform-style:preserve-3d;-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:0}@keyframes gwd-empty-animation{0%{opacity:0.001}100%{opacity:0}}@-webkit-keyframes gwd-empty-animation{0%{opacity:0.001}100%{opacity:0}}@-moz-keyframes gwd-empty-animation{0%{opacity:0.001}100%{opacity:0}}@keyframes gwd-gen-1eapgwdanimation_gwd-keyframes{0%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-1eapgwdanimation_gwd-keyframes{0%{opacity:1;-webkit-animation-timing-function:linear}100%{opacity:1;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-1eapgwdanimation_gwd-keyframes{0%{opacity:1;-moz-animation-timing-function:linear}100%{opacity:1;-moz-animation-timing-function:linear}}#page1_1.gwd-play-animation .gwd-gen-1eapgwdanimation{animation:gwd-gen-1eapgwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards;-webkit-animation:gwd-gen-1eapgwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards;-moz-animation:gwd-gen-1eapgwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards}.gwd-img-xdlr{position:absolute;width:138px;height:128px;left:649px;top:61px}#page1_1.gwd-pause-animation .gwd-gen-n82ggwdanimation{animation-play-state:paused !important;-webkit-animation-play-state:paused !important;-moz-animation-play-state:paused !important}#page1_1.gwd-pause-animation .gwd-gen-kqotgwdanimation{animation-play-state:paused !important;-webkit-animation-play-state:paused !important;-moz-animation-play-state:paused !important}.gwd-img-1ac5{position:absolute;width:61px;height:650px;top:58px;transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1;left:55px}.gwd-img-13fa{position:absolute;width:61px;height:650px;left:117px;top:55px;transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1}.gwd-img-1sbt{position:absolute;width:61px;height:650px;left:177px;top:55px;transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1;transform-style:preserve-3d;-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d}.gwd-img-1r6c{position:absolute;width:61px;height:650px;left:237px;top:53px;transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1}@keyframes gwd-gen-104igwdanimation_gwd-keyframes{0%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}98%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{transform:translate3d(0, -354px, 0);-webkit-transform:translate3d(0, -354px, 0);-moz-transform:translate3d(0, -354px, 0);opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-104igwdanimation_gwd-keyframes{0%{-webkit-transform:translate3d(0, 0, 0);opacity:1;-webkit-animation-timing-function:linear}98%{-webkit-transform:translate3d(0, 0, 0);opacity:1;-webkit-animation-timing-function:linear}100%{-webkit-transform:translate3d(0, -354px, 0);opacity:0;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-104igwdanimation_gwd-keyframes{0%{-moz-transform:translate3d(0, 0, 0);opacity:1;-moz-animation-timing-function:linear}98%{-moz-transform:translate3d(0, 0, 0);opacity:1;-moz-animation-timing-function:linear}100%{-moz-transform:translate3d(0, -354px, 0);opacity:0;-moz-animation-timing-function:linear}}#page1_2.gwd-play-animation .gwd-gen-104igwdanimation{animation:gwd-gen-104igwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards;-webkit-animation:gwd-gen-104igwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards;-moz-animation:gwd-gen-104igwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards}@keyframes gwd-gen-y2fdgwdanimation_gwd-keyframes{0%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}98%{transform:translate3d(0, -59px, 0);-webkit-transform:translate3d(0, -59px, 0);-moz-transform:translate3d(0, -59px, 0);opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{transform:translate3d(0, -413px, 0);-webkit-transform:translate3d(0, -413px, 0);-moz-transform:translate3d(0, -413px, 0);opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-y2fdgwdanimation_gwd-keyframes{0%{-webkit-transform:translate3d(0, 0, 0);opacity:1;-webkit-animation-timing-function:linear}98%{-webkit-transform:translate3d(0, -59px, 0);opacity:1;-webkit-animation-timing-function:linear}100%{-webkit-transform:translate3d(0, -413px, 0);opacity:0;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-y2fdgwdanimation_gwd-keyframes{0%{-moz-transform:translate3d(0, 0, 0);opacity:1;-moz-animation-timing-function:linear}98%{-moz-transform:translate3d(0, -59px, 0);opacity:1;-moz-animation-timing-function:linear}100%{-moz-transform:translate3d(0, -413px, 0);opacity:0;-moz-animation-timing-function:linear}}#page1_2.gwd-play-animation .gwd-gen-y2fdgwdanimation{animation:gwd-gen-y2fdgwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards;-webkit-animation:gwd-gen-y2fdgwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards;-moz-animation:gwd-gen-y2fdgwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards}@keyframes gwd-gen-1q2ugwdanimation_gwd-keyframes{0%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}98%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{transform:translate3d(0, -180px, 0);-webkit-transform:translate3d(0, -180px, 0);-moz-transform:translate3d(0, -180px, 0);opacity:0;animation-timing-function:ease-in-out;-webkit-animation-timing-function:ease-in-out;-moz-animation-timing-function:ease-in-out}}@-webkit-keyframes gwd-gen-1q2ugwdanimation_gwd-keyframes{0%{-webkit-transform:translate3d(0, 0, 0);opacity:1;-webkit-animation-timing-function:linear}98%{-webkit-transform:translate3d(0, 0, 0);opacity:1;-webkit-animation-timing-function:linear}100%{-webkit-transform:translate3d(0, -180px, 0);opacity:0;-webkit-animation-timing-function:ease-in-out}}@-moz-keyframes gwd-gen-1q2ugwdanimation_gwd-keyframes{0%{-moz-transform:translate3d(0, 0, 0);opacity:1;-moz-animation-timing-function:linear}98%{-moz-transform:translate3d(0, 0, 0);opacity:1;-moz-animation-timing-function:linear}100%{-moz-transform:translate3d(0, -180px, 0);opacity:0;-moz-animation-timing-function:ease-in-out}}#page1_2.gwd-play-animation .gwd-gen-1q2ugwdanimation{animation:gwd-gen-1q2ugwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards;-webkit-animation:gwd-gen-1q2ugwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards;-moz-animation:gwd-gen-1q2ugwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards}@keyframes gwd-gen-dq5dgwdanimation_gwd-keyframes{0%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}98%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{transform:translate3d(0, -236px, 0);-webkit-transform:translate3d(0, -236px, 0);-moz-transform:translate3d(0, -236px, 0);opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-dq5dgwdanimation_gwd-keyframes{0%{-webkit-transform:translate3d(0, 0, 0);opacity:1;-webkit-animation-timing-function:linear}98%{-webkit-transform:translate3d(0, 0, 0);opacity:1;-webkit-animation-timing-function:linear}100%{-webkit-transform:translate3d(0, -236px, 0);opacity:0;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-dq5dgwdanimation_gwd-keyframes{0%{-moz-transform:translate3d(0, 0, 0);opacity:1;-moz-animation-timing-function:linear}98%{-moz-transform:translate3d(0, 0, 0);opacity:1;-moz-animation-timing-function:linear}100%{-moz-transform:translate3d(0, -236px, 0);opacity:0;-moz-animation-timing-function:linear}}#page1_2.gwd-play-animation .gwd-gen-dq5dgwdanimation{animation:gwd-gen-dq5dgwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards;-webkit-animation:gwd-gen-dq5dgwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards;-moz-animation:gwd-gen-dq5dgwdanimation_gwd-keyframes 5s linear 0s 1 normal forwards}[data-gwd-group="jogar"] .gwd-grp-17kv.gwd-img-dfau{position:absolute;width:144px;height:47px;left:0px;top:0px;opacity:0}[data-gwd-group="jogar"]{width:144px;height:47px}.gwd-div-1tup{position:absolute;left:157px;top:172px}[data-gwd-group="jogar"] .gwd-grp-17kv.gwd-img-e6z8{position:absolute;width:144px;height:47px;left:0px;top:0px;opacity:0}@keyframes gwd-gen-1mm1gwdanimation_gwd-keyframes{0%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-1mm1gwdanimation_gwd-keyframes{0%{opacity:0;-webkit-animation-timing-function:linear}100%{opacity:1;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-1mm1gwdanimation_gwd-keyframes{0%{opacity:0;-moz-animation-timing-function:linear}100%{opacity:1;-moz-animation-timing-function:linear}}.gwd-play-animation [data-gwd-group="jogar"] .gwd-gen-1mm1gwdanimation{animation:gwd-gen-1mm1gwdanimation_gwd-keyframes .4s linear 1.8s 1 normal forwards;-webkit-animation:gwd-gen-1mm1gwdanimation_gwd-keyframes .4s linear 1.8s 1 normal forwards;-moz-animation:gwd-gen-1mm1gwdanimation_gwd-keyframes .4s linear 1.8s 1 normal forwards}[data-gwd-group="jogar_novam"] .gwd-grp-1k7p.gwd-img-6vpp{position:absolute;width:214px;height:37px;left:0px;top:0px;opacity:0}[data-gwd-group="jogar_novam"]{width:214px;height:37px}.gwd-div-ddh1{position:absolute;left:25px;top:139px}[data-gwd-group="jogar_novam"] .gwd-grp-1k7p.gwd-img-bl4p{position:absolute;width:214px;height:37px;left:0px;top:0px;opacity:0}@keyframes gwd-gen-1979gwdanimation_gwd-keyframes{0%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-1979gwdanimation_gwd-keyframes{0%{opacity:0;-webkit-animation-timing-function:linear}100%{opacity:1;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-1979gwdanimation_gwd-keyframes{0%{opacity:0;-moz-animation-timing-function:linear}100%{opacity:1;-moz-animation-timing-function:linear}}.gwd-play-animation [data-gwd-group="jogar_novam"] .gwd-gen-1979gwdanimation{animation:gwd-gen-1979gwdanimation_gwd-keyframes .3s linear 0s 1 normal forwards;-webkit-animation:gwd-gen-1979gwdanimation_gwd-keyframes .3s linear 0s 1 normal forwards;-moz-animation:gwd-gen-1979gwdanimation_gwd-keyframes .3s linear 0s 1 normal forwards}@keyframes gwd-gen-19glgwdanimation_gwd-keyframes{0%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}6.67%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}16.67%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}23.33%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}35%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}41.67%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}55%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}61.67%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}75%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}81.67%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}93.33%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-19glgwdanimation_gwd-keyframes{0%{opacity:0;-webkit-animation-timing-function:linear}6.67%{opacity:1;-webkit-animation-timing-function:linear}16.67%{opacity:1;-webkit-animation-timing-function:linear}23.33%{opacity:0;-webkit-animation-timing-function:linear}35%{opacity:0;-webkit-animation-timing-function:linear}41.67%{opacity:1;-webkit-animation-timing-function:linear}55%{opacity:1;-webkit-animation-timing-function:linear}61.67%{opacity:0;-webkit-animation-timing-function:linear}75%{opacity:0;-webkit-animation-timing-function:linear}81.67%{opacity:1;-webkit-animation-timing-function:linear}93.33%{opacity:1;-webkit-animation-timing-function:linear}100%{opacity:0;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-19glgwdanimation_gwd-keyframes{0%{opacity:0;-moz-animation-timing-function:linear}6.67%{opacity:1;-moz-animation-timing-function:linear}16.67%{opacity:1;-moz-animation-timing-function:linear}23.33%{opacity:0;-moz-animation-timing-function:linear}35%{opacity:0;-moz-animation-timing-function:linear}41.67%{opacity:1;-moz-animation-timing-function:linear}55%{opacity:1;-moz-animation-timing-function:linear}61.67%{opacity:0;-moz-animation-timing-function:linear}75%{opacity:0;-moz-animation-timing-function:linear}81.67%{opacity:1;-moz-animation-timing-function:linear}93.33%{opacity:1;-moz-animation-timing-function:linear}100%{opacity:0;-moz-animation-timing-function:linear}}.gwd-play-animation [data-gwd-group="jogar"] .gwd-gen-19glgwdanimation{animation:gwd-gen-19glgwdanimation_gwd-keyframes 6s linear 2.8s 1 normal forwards;-webkit-animation:gwd-gen-19glgwdanimation_gwd-keyframes 6s linear 2.8s 1 normal forwards;-moz-animation:gwd-gen-19glgwdanimation_gwd-keyframes 6s linear 2.8s 1 normal forwards}@keyframes gwd-empty-animation-init{0%{opacity:0.001}100%{opacity:0}}@-webkit-keyframes gwd-empty-animation-init{0%{opacity:0.001}100%{opacity:0}}@-moz-keyframes gwd-empty-animation-init{0%{opacity:0.001}100%{opacity:0}}@keyframes gwd-empty-animation-fadeOut{0%{opacity:0.001}100%{opacity:0}}@-webkit-keyframes gwd-empty-animation-fadeOut{0%{opacity:0.001}100%{opacity:0}}@-moz-keyframes gwd-empty-animation-fadeOut{0%{opacity:0.001}100%{opacity:0}}@keyframes gwd-gen-g2eogwdanimation_gwd-keyframes{0%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}82.61%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-g2eogwdanimation_gwd-keyframes{0%{opacity:0;-webkit-animation-timing-function:linear}82.61%{opacity:0;-webkit-animation-timing-function:linear}100%{opacity:1;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-g2eogwdanimation_gwd-keyframes{0%{opacity:0;-moz-animation-timing-function:linear}82.61%{opacity:0;-moz-animation-timing-function:linear}100%{opacity:1;-moz-animation-timing-function:linear}}#page1_3.gwd-play-animation .gwd-gen-g2eogwdanimation{animation:gwd-gen-g2eogwdanimation_gwd-keyframes 2.3s linear 0s 1 normal forwards;-webkit-animation:gwd-gen-g2eogwdanimation_gwd-keyframes 2.3s linear 0s 1 normal forwards;-moz-animation:gwd-gen-g2eogwdanimation_gwd-keyframes 2.3s linear 0s 1 normal forwards}#page1_3.gwd-play-animation .gwd-gen-cgn8gwdanimation{animation:gwd-gen-cgn8gwdanimation_gwd-keyframes .5s linear 1.8s 1 normal forwards;-webkit-animation:gwd-gen-cgn8gwdanimation_gwd-keyframes .5s linear 1.8s 1 normal forwards;-moz-animation:gwd-gen-cgn8gwdanimation_gwd-keyframes .5s linear 1.8s 1 normal forwards}@keyframes gwd-gen-1bhwgwdanimation_gwd-keyframes{0%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}5.08%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}18.63%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}25.42%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}37.29%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}44.08%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}55.93%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}62.71%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}76.27%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}83.05%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}93.22%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-1bhwgwdanimation_gwd-keyframes{0%{opacity:0;-webkit-animation-timing-function:linear}5.08%{opacity:1;-webkit-animation-timing-function:linear}18.63%{opacity:1;-webkit-animation-timing-function:linear}25.42%{opacity:0;-webkit-animation-timing-function:linear}37.29%{opacity:0;-webkit-animation-timing-function:linear}44.08%{opacity:1;-webkit-animation-timing-function:linear}55.93%{opacity:1;-webkit-animation-timing-function:linear}62.71%{opacity:0;-webkit-animation-timing-function:linear}76.27%{opacity:0;-webkit-animation-timing-function:linear}83.05%{opacity:1;-webkit-animation-timing-function:linear}93.22%{opacity:1;-webkit-animation-timing-function:linear}100%{opacity:0;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-1bhwgwdanimation_gwd-keyframes{0%{opacity:0;-moz-animation-timing-function:linear}5.08%{opacity:1;-moz-animation-timing-function:linear}18.63%{opacity:1;-moz-animation-timing-function:linear}25.42%{opacity:0;-moz-animation-timing-function:linear}37.29%{opacity:0;-moz-animation-timing-function:linear}44.08%{opacity:1;-moz-animation-timing-function:linear}55.93%{opacity:1;-moz-animation-timing-function:linear}62.71%{opacity:0;-moz-animation-timing-function:linear}76.27%{opacity:0;-moz-animation-timing-function:linear}83.05%{opacity:1;-moz-animation-timing-function:linear}93.22%{opacity:1;-moz-animation-timing-function:linear}100%{opacity:0;-moz-animation-timing-function:linear}}.gwd-play-animation [data-gwd-group="jogar_novam"] .gwd-gen-1bhwgwdanimation{animation:gwd-gen-1bhwgwdanimation_gwd-keyframes 5.9s linear .7s 1 normal forwards;-webkit-animation:gwd-gen-1bhwgwdanimation_gwd-keyframes 5.9s linear .7s 1 normal forwards;-moz-animation:gwd-gen-1bhwgwdanimation_gwd-keyframes 5.9s linear .7s 1 normal forwards}#page1_2.gwd-play-animation .event-1-animation{animation:gwd-empty-animation .2s linear 0s 1 normal forwards;-webkit-animation:gwd-empty-animation .2s linear 0s 1 normal forwards;-moz-animation:gwd-empty-animation .2s linear 0s 1 normal forwards}#page1_2.gwd-pause-animation .event-1-animation{animation-play-state:paused !important;-webkit-animation-play-state:paused !important;-moz-animation-play-state:paused !important}#page1_3.gwd-play-animation .event-2-animation{animation:gwd-empty-animation .2s linear 0s 1 normal forwards;-webkit-animation:gwd-empty-animation .2s linear 0s 1 normal forwards;-moz-animation:gwd-empty-animation .2s linear 0s 1 normal forwards}.gwd-img-tofy{position:absolute;width:144px;height:47px;left:157px;top:172px;opacity:1;visibility:hidden}.gwd-play-animation [data-gwd-group="jogar_novam"].gwd-pause-animation .gwd-gen-1bhwgwdanimation{animation-play-state:paused !important;-webkit-animation-play-state:paused !important;-moz-animation-play-state:paused !important}.gwd-play-animation [data-gwd-group="jogar_novam"].gwd-pause-animation .gwd-gen-1979gwdanimation{animation-play-state:paused !important;-webkit-animation-play-state:paused !important;-moz-animation-play-state:paused !important}#page1_1.gwd-pause-animation .gwd-gen-nwnbgwdanimation{animation-play-state:paused !important;-webkit-animation-play-state:paused !important;-moz-animation-play-state:paused !important}[data-gwd-group="loader"] .gwd-grp-y5vs.gwd-img-6k3j{position:absolute;width:236px;height:37px;top:176px;transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);left:83px}[data-gwd-group="loader"] .gwd-grp-y5vs.gwd-img-95lz{position:absolute;width:970px;height:250px;left:0px;top:0px}[data-gwd-group="loader"]{width:970px;height:250px}.gwd-div-nnqc{position:absolute;left:0px;top:0px;visibility:visible;opacity:0}@keyframes gwd-gen-1tjkgwdanimation_gwd-keyframes{0%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);left:83px;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);left:105px;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-1tjkgwdanimation_gwd-keyframes{0%{-webkit-transform:translate3d(0, 0, 0);left:83px;-webkit-animation-timing-function:linear}100%{-webkit-transform:translate3d(0, 0, 0);left:105px;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-1tjkgwdanimation_gwd-keyframes{0%{-moz-transform:translate3d(0, 0, 0);left:83px;-moz-animation-timing-function:linear}100%{-moz-transform:translate3d(0, 0, 0);left:105px;-moz-animation-timing-function:linear}}.gwd-play-animation [data-gwd-group="loader"] .gwd-gen-1tjkgwdanimation{animation:gwd-gen-1tjkgwdanimation_gwd-keyframes .5s linear 0s 1 normal forwards;-webkit-animation:gwd-gen-1tjkgwdanimation_gwd-keyframes .5s linear 0s 1 normal forwards;-moz-animation:gwd-gen-1tjkgwdanimation_gwd-keyframes .5s linear 0s 1 normal forwards}.gwd-play-animation [data-gwd-group="loader"] .event-3-animation{animation:gwd-empty-animation .5s linear 0s 1 normal forwards;-webkit-animation:gwd-empty-animation .5s linear 0s 1 normal forwards;-moz-animation:gwd-empty-animation .5s linear 0s 1 normal forwards}.gwd-play-animation [data-gwd-group="loader"].start .event-3-animation{animation:gwd-empty-animation-start .5s linear 0s 1 normal forwards;-webkit-animation:gwd-empty-animation-start .5s linear 0s 1 normal forwards;-moz-animation:gwd-empty-animation-start .5s linear 0s 1 normal forwards}@keyframes gwd-empty-animation-start{0%{opacity:0.001}100%{opacity:0}}@-webkit-keyframes gwd-empty-animation-start{0%{opacity:0.001}100%{opacity:0}}@-moz-keyframes gwd-empty-animation-start{0%{opacity:0.001}100%{opacity:0}}@keyframes gwd-gen-cgn8gwdanimation_gwd-keyframes{0%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}20%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-cgn8gwdanimation_gwd-keyframes{0%{-webkit-transform:translate3d(0, 0, 0);opacity:0;-webkit-animation-timing-function:linear}20%{-webkit-transform:translate3d(0, 0, 0);opacity:1;-webkit-animation-timing-function:linear}100%{-webkit-transform:translate3d(0, 0, 0);opacity:1;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-cgn8gwdanimation_gwd-keyframes{0%{-moz-transform:translate3d(0, 0, 0);opacity:0;-moz-animation-timing-function:linear}20%{-moz-transform:translate3d(0, 0, 0);opacity:1;-moz-animation-timing-function:linear}100%{-moz-transform:translate3d(0, 0, 0);opacity:1;-moz-animation-timing-function:linear}}@keyframes gwd-gen-1tjkgwdanimation_gwd-keyframes_start{0%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);left:83px;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{transform:translate3d(0, 0, 0);-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);left:105px;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-1tjkgwdanimation_gwd-keyframes_start{0%{-webkit-transform:translate3d(0, 0, 0);left:83px;-webkit-animation-timing-function:linear}100%{-webkit-transform:translate3d(0, 0, 0);left:105px;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-1tjkgwdanimation_gwd-keyframes_start{0%{-moz-transform:translate3d(0, 0, 0);left:83px;-moz-animation-timing-function:linear}100%{-moz-transform:translate3d(0, 0, 0);left:105px;-moz-animation-timing-function:linear}}.gwd-play-animation [data-gwd-group="loader"].start .gwd-gen-1tjkgwdanimation{animation:gwd-gen-1tjkgwdanimation_gwd-keyframes_start .5s linear 0s 1 normal forwards;-webkit-animation:gwd-gen-1tjkgwdanimation_gwd-keyframes_start .5s linear 0s 1 normal forwards;-moz-animation:gwd-gen-1tjkgwdanimation_gwd-keyframes_start .5s linear 0s 1 normal forwards}@keyframes gwd-gen-19glgwdanimation_gwd-keyframes_on{0%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}6.67%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}16.67%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}23.33%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}35%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}41.67%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}55%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}61.67%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}75%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}81.67%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}93.33%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-19glgwdanimation_gwd-keyframes_on{0%{opacity:0;-webkit-animation-timing-function:linear}6.67%{opacity:1;-webkit-animation-timing-function:linear}16.67%{opacity:1;-webkit-animation-timing-function:linear}23.33%{opacity:0;-webkit-animation-timing-function:linear}35%{opacity:0;-webkit-animation-timing-function:linear}41.67%{opacity:1;-webkit-animation-timing-function:linear}55%{opacity:1;-webkit-animation-timing-function:linear}61.67%{opacity:0;-webkit-animation-timing-function:linear}75%{opacity:0;-webkit-animation-timing-function:linear}81.67%{opacity:1;-webkit-animation-timing-function:linear}93.33%{opacity:1;-webkit-animation-timing-function:linear}100%{opacity:0;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-19glgwdanimation_gwd-keyframes_on{0%{opacity:0;-moz-animation-timing-function:linear}6.67%{opacity:1;-moz-animation-timing-function:linear}16.67%{opacity:1;-moz-animation-timing-function:linear}23.33%{opacity:0;-moz-animation-timing-function:linear}35%{opacity:0;-moz-animation-timing-function:linear}41.67%{opacity:1;-moz-animation-timing-function:linear}55%{opacity:1;-moz-animation-timing-function:linear}61.67%{opacity:0;-moz-animation-timing-function:linear}75%{opacity:0;-moz-animation-timing-function:linear}81.67%{opacity:1;-moz-animation-timing-function:linear}93.33%{opacity:1;-moz-animation-timing-function:linear}100%{opacity:0;-moz-animation-timing-function:linear}}.gwd-play-animation [data-gwd-group="jogar"].on .gwd-gen-19glgwdanimation{animation:gwd-gen-19glgwdanimation_gwd-keyframes_on 6s linear .3s 1 normal forwards;-webkit-animation:gwd-gen-19glgwdanimation_gwd-keyframes_on 6s linear .3s 1 normal forwards;-moz-animation:gwd-gen-19glgwdanimation_gwd-keyframes_on 6s linear .3s 1 normal forwards}@keyframes gwd-gen-1mm1gwdanimation_gwd-keyframes_on{0%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-1mm1gwdanimation_gwd-keyframes_on{0%{opacity:0;-webkit-animation-timing-function:linear}100%{opacity:1;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-1mm1gwdanimation_gwd-keyframes_on{0%{opacity:0;-moz-animation-timing-function:linear}100%{opacity:1;-moz-animation-timing-function:linear}}.gwd-play-animation [data-gwd-group="jogar"].on .gwd-gen-1mm1gwdanimation{animation:gwd-gen-1mm1gwdanimation_gwd-keyframes_on .4s linear -0.4s 1 normal forwards;-webkit-animation:gwd-gen-1mm1gwdanimation_gwd-keyframes_on .4s linear -0.4s 1 normal forwards;-moz-animation:gwd-gen-1mm1gwdanimation_gwd-keyframes_on .4s linear -0.4s 1 normal forwards}@keyframes gwd-gen-1eapgwdanimation_gwd-keyframes_init{0%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-1eapgwdanimation_gwd-keyframes_init{0%{opacity:1;-webkit-animation-timing-function:linear}100%{opacity:1;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-1eapgwdanimation_gwd-keyframes_init{0%{opacity:1;-moz-animation-timing-function:linear}100%{opacity:1;-moz-animation-timing-function:linear}}#page1_1.init .gwd-gen-1eapgwdanimation{animation:gwd-gen-1eapgwdanimation_gwd-keyframes_init 5s linear 0s 1 normal forwards;-webkit-animation:gwd-gen-1eapgwdanimation_gwd-keyframes_init 5s linear 0s 1 normal forwards;-moz-animation:gwd-gen-1eapgwdanimation_gwd-keyframes_init 5s linear 0s 1 normal forwards}@keyframes gwd-gen-1bhwgwdanimation_gwd-keyframes_on{0%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}5.08%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}18.63%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}25.42%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}37.29%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}44.08%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}55.93%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}62.71%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}76.27%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}83.05%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}93.22%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-1bhwgwdanimation_gwd-keyframes_on{0%{opacity:0;-webkit-animation-timing-function:linear}5.08%{opacity:1;-webkit-animation-timing-function:linear}18.63%{opacity:1;-webkit-animation-timing-function:linear}25.42%{opacity:0;-webkit-animation-timing-function:linear}37.29%{opacity:0;-webkit-animation-timing-function:linear}44.08%{opacity:1;-webkit-animation-timing-function:linear}55.93%{opacity:1;-webkit-animation-timing-function:linear}62.71%{opacity:0;-webkit-animation-timing-function:linear}76.27%{opacity:0;-webkit-animation-timing-function:linear}83.05%{opacity:1;-webkit-animation-timing-function:linear}93.22%{opacity:1;-webkit-animation-timing-function:linear}100%{opacity:0;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-1bhwgwdanimation_gwd-keyframes_on{0%{opacity:0;-moz-animation-timing-function:linear}5.08%{opacity:1;-moz-animation-timing-function:linear}18.63%{opacity:1;-moz-animation-timing-function:linear}25.42%{opacity:0;-moz-animation-timing-function:linear}37.29%{opacity:0;-moz-animation-timing-function:linear}44.08%{opacity:1;-moz-animation-timing-function:linear}55.93%{opacity:1;-moz-animation-timing-function:linear}62.71%{opacity:0;-moz-animation-timing-function:linear}76.27%{opacity:0;-moz-animation-timing-function:linear}83.05%{opacity:1;-moz-animation-timing-function:linear}93.22%{opacity:1;-moz-animation-timing-function:linear}100%{opacity:0;-moz-animation-timing-function:linear}}.gwd-play-animation [data-gwd-group="jogar_novam"].on .gwd-gen-1bhwgwdanimation{animation:gwd-gen-1bhwgwdanimation_gwd-keyframes_on 5.9s linear 0s 1 normal forwards;-webkit-animation:gwd-gen-1bhwgwdanimation_gwd-keyframes_on 5.9s linear 0s 1 normal forwards;-moz-animation:gwd-gen-1bhwgwdanimation_gwd-keyframes_on 5.9s linear 0s 1 normal forwards}@keyframes gwd-gen-1979gwdanimation_gwd-keyframes_on{0%{opacity:0;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}100%{opacity:1;animation-timing-function:linear;-webkit-animation-timing-function:linear;-moz-animation-timing-function:linear}}@-webkit-keyframes gwd-gen-1979gwdanimation_gwd-keyframes_on{0%{opacity:0;-webkit-animation-timing-function:linear}100%{opacity:1;-webkit-animation-timing-function:linear}}@-moz-keyframes gwd-gen-1979gwdanimation_gwd-keyframes_on{0%{opacity:0;-moz-animation-timing-function:linear}100%{opacity:1;-moz-animation-timing-function:linear}}.gwd-play-animation [data-gwd-group="jogar_novam"].on .gwd-gen-1979gwdanimation{animation:gwd-gen-1979gwdanimation_gwd-keyframes_on .3s linear -0.3s 1 normal forwards;-webkit-animation:gwd-gen-1979gwdanimation_gwd-keyframes_on .3s linear -0.3s 1 normal forwards;-moz-animation:gwd-gen-1979gwdanimation_gwd-keyframes_on .3s linear -0.3s 1 normal forwards}.gwd-taparea-1gou{position:absolute;left:0px;top:0px;width:970px;height:250px}.gwd-taparea-bv2g{position:absolute;left:0px;top:0px;width:970px;height:250px}.gwd-play-animation [data-gwd-group="jogar"].gwd-pause-animation .gwd-gen-19glgwdanimation{animation-play-state:paused !important;-webkit-animation-play-state:paused !important;-moz-animation-play-state:paused !important}.gwd-play-animation [data-gwd-group="jogar"].gwd-pause-animation .gwd-gen-1mm1gwdanimation{animation-play-state:paused !important;-webkit-animation-play-state:paused !important;-moz-animation-play-state:paused !important}#page1_1.gwd-pause-animation .gwd-gen-1eapgwdanimation{animation-play-state:paused !important;-webkit-animation-play-state:paused !important;-moz-animation-play-state:paused !important}</style>
  <link href="gwdpage_style.css" data-version="8" data-exports-type="gwd-page" rel="stylesheet">
  <link href="gwdimage_style.css" data-version="9" data-exports-type="gwd-image" rel="stylesheet">
  <link href="gwddoubleclick_style.css" data-version="14" data-exports-type="gwd-doubleclick" rel="stylesheet">
  <link href="gwdpagedeck_style.css" data-version="9" data-exports-type="gwd-pagedeck" rel="stylesheet">
  <script data-source="googbase_min.js" data-version="3" data-exports-type="googbase" type="text/javascript" src="googbase_min.js"></script>
  <script data-source="gwd_webcomponents_min.js" data-version="5" data-exports-type="gwd_webcomponents" type="text/javascript" src="gwd_webcomponents_min.js"></script>
  <script data-source="gwdpage_min.js" data-version="8" data-exports-type="gwd-page" type="text/javascript" src="gwdpage_min.js"></script>
  <script data-source="gwdpagedeck_min.js" data-version="9" data-exports-type="gwd-pagedeck" type="text/javascript" src="gwdpagedeck_min.js"></script>
  <script data-source="https://s0.2mdn.net/ads/studio/Enabler.js" data-exports-type="gwd-doubleclick" type="text/javascript" src="https://s0.2mdn.net/ads/studio/Enabler.js"></script>
  <script data-source="gwddoubleclick_min.js" data-version="14" data-exports-type="gwd-doubleclick" type="text/javascript" src="gwddoubleclick_min.js"></script>
  <script data-source="gwdimage_min.js" data-version="9" data-exports-type="gwd-image" type="text/javascript" src="gwdimage_min.js"></script>
  
  <script type="text/javascript" src="gwdid.min.1.0.js" gwd-gwdid-version="1.0"></script>
  <script type="text/javascript" gwd-events="support" src="gwd-events-support.1.0.js"></script>
  <!-- <script type="text/javascript" gwd-events="handlers" src="src/gwd-handlers.js"></script> -->
  <script type="text/javascript" gwd-events="registration">gwd.actions.events.registerEventHandlers=function(event){gwd.actions.events.addHandler("page1_2","pagepresenting",gwd.init,false);gwd.actions.events.addHandler("jogar_bt","click",gwd.openConnection,false);gwd.actions.events.addHandler("page1_1","pageactivated",gwd.setQR,false);gwd.actions.events.addHandler("jogar_bt","click",gwd.auto_Jogar_btClick,false);gwd.actions.events.addHandler("novamente_1","click",gwd.restartGame,false);gwd.actions.events.addHandler("novamente_1","click",gwd.auto_Novamente_1Click,false);gwd.actions.events.addHandler("page1_2","event-1",gwd.readyToStart,false);gwd.actions.events.addHandler("page1_3","event-2",gwd.readyToStart,false);gwd.actions.events.addHandler("channel","click",gwd.auto_ChannelClick,false);gwd.actions.events.addHandler("channel","click",gwd.auto_ChannelClick1,false);gwd.actions.events.addHandler("taparea_final","click",gwd.auto_Gwd_imagebutton_2Click,false);gwd.actions.events.addHandler("channel","mouseover",gwd.auto_ChannelMouseover,false);gwd.actions.events.addHandler("channel","mouseover",gwd.auto_ChannelMouseover1,false);gwd.actions.events.addHandler("channel","mouseout",gwd.auto_ChannelMouseout,false);gwd.actions.events.addHandler("novamente_1","mouseover",gwd.auto_Novamente_1Mouseover,false);gwd.actions.events.addHandler("novamente_1","mouseout",gwd.auto_Novamente_1Mouseout,false);gwd.actions.events.addHandler("novamente_1","mouseover",gwd.auto_Novamente_1Mouseover1,false);gwd.actions.events.addHandler(" loader","event-3",gwd.auto__LoaderEvent_3,false);gwd.actions.events.addHandler("taparea_inicial","click",gwd.auto_Taparea_inicialClick,false);gwd.actions.timeline.captureAnimationEnd(document.body)};gwd.actions.events.deregisterEventHandlers=function(event){gwd.actions.events.removeHandler("page1_2","pagepresenting",gwd.init,false);gwd.actions.events.removeHandler("jogar_bt","click",gwd.openConnection,false);gwd.actions.events.removeHandler("page1_1","pageactivated",gwd.setQR,false);gwd.actions.events.removeHandler("jogar_bt","click",gwd.auto_Jogar_btClick,false);gwd.actions.events.removeHandler("novamente_1","click",gwd.restartGame,false);gwd.actions.events.removeHandler("novamente_1","click",gwd.auto_Novamente_1Click,false);gwd.actions.events.removeHandler("page1_2","event-1",gwd.readyToStart,false);gwd.actions.events.removeHandler("page1_3","event-2",gwd.readyToStart,false);gwd.actions.events.removeHandler("channel","click",gwd.auto_ChannelClick,false);gwd.actions.events.removeHandler("channel","click",gwd.auto_ChannelClick1,false);gwd.actions.events.removeHandler("taparea_final","click",gwd.auto_Gwd_imagebutton_2Click,false);gwd.actions.events.removeHandler("channel","mouseover",gwd.auto_ChannelMouseover,false);gwd.actions.events.removeHandler("channel","mouseover",gwd.auto_ChannelMouseover1,false);gwd.actions.events.removeHandler("channel","mouseout",gwd.auto_ChannelMouseout,false);gwd.actions.events.removeHandler("novamente_1","mouseover",gwd.auto_Novamente_1Mouseover,false);gwd.actions.events.removeHandler("novamente_1","mouseout",gwd.auto_Novamente_1Mouseout,false);gwd.actions.events.removeHandler("novamente_1","mouseover",gwd.auto_Novamente_1Mouseover1,false);gwd.actions.events.removeHandler(" loader","event-3",gwd.auto__LoaderEvent_3,false);gwd.actions.events.removeHandler("taparea_inicial","click",gwd.auto_Taparea_inicialClick,false);gwd.actions.timeline.releaseAnimationEnd(document.body)};document.addEventListener("DOMContentLoaded",gwd.actions.events.registerEventHandlers);document.addEventListener("unload",gwd.actions.events.deregisterEventHandlers)</script>
  <script data-source="gwdimagebutton_min.js" data-version="9" data-exports-type="gwd-imagebutton" type="text/javascript">
-function(){"use strict";var f=function(a){return"gwd-page"==a.tagName.toLowerCase()||"gwd-page"==a.getAttribute("is")},h=function(a){if(f(a))return a;for(;a&&9!=a.nodeType;)if((a=a.parentElement)&&f(a))return a;return null},k=function(a,b){return b!=a.getAttribute("source")?(a.setAttribute("source",b),!0):!1};var l=function(a,b){var c;c=document.createEvent("Event");c.initEvent(a,!0,!0);b.dispatchEvent(c)},m=function(a,b,c){var d=function(e){a.removeEventListener(b,d);c(e)};a.addEventListener(b,d)};var n=function(a){a||(a="");return/^[\s\xa0]*$/.test(a)},p=function(){};goog.inherits(p,HTMLElement);
p.prototype.createdCallback=function(){for(var a;a=this.firstChild;)this.removeChild(a);this.c="gwd_imagebutton_"+(2147483648*Math.random()|0);this.i="ontouchstart"in window||0<window.navigator.MaxTouchPoints||0<window.navigator.msMaxTouchPoints;this.a=document.createElement("div");this.a.className=this.c;this.appendChild(this.a);this.h=null;this.o=this.b=!1;this.j=document.createElement("img","gwd-image");this.g=document.createElement("img","gwd-image");this.f=document.createElement("img","gwd-image");
this.l=document.createElement("div","gwd-page");this.m=this.s.bind(this);this.v=this.u.bind(this);this.style.display="inline-block";this.style.padding=0;this.a.style.backgroundRepeat="no-repeat";this.a.style.width="100%";this.a.style.height="100%"};
p.prototype.attachedCallback=function(){this.a.addEventListener("click",this.m,!1);if("function"==typeof this.gwdLoad&&"function"==typeof this.gwdIsLoaded&&!this.gwdIsLoaded()){var a=h(this),b=a&&"function"==typeof a.gwdIsLoaded;(!a||b&&a.gwdIsLoaded())&&this.gwdLoad()}};p.prototype.detachedCallback=function(){this.a.removeEventListener("click",this.m,!1)};
p.prototype.attributeChangedCallback=function(a){var b=this.getAttribute(a);switch(a){case "alignment":b?this.a.style.backgroundPosition=b:this.setAttribute(a,"center");break;case "scaling":b?this.a.style.backgroundSize=b:this.setAttribute(a,"auto");break;case "up-image":q(this,this.j,b);break;case "over-image":this.i||q(this,this.g,b);break;case "down-image":q(this,this.f,b);break;case "disabled":this.b=this.hasAttribute("disabled")&&"false"!=this.getAttribute("disabled");r(this);this.a.style.cursor=
this.b?"default":"pointer";break;case "bgcolor":this.a.style.backgroundColor=n(b)?"":b}};var q=function(a,b,c){n(c)?r(a):(b.setAttribute("source",c),t(a))};p.prototype.gwdIsLoaded=function(){return this.o};p.prototype.gwdLoad=function(){for(var a=["bgcolor","alignment","scaling","disabled"],b=0;b<a.length;b++)this.attributeChangedCallback(a[b],null,null);t(this)};
var t=function(a,b,c,d){var e=document.createElement("div","gwd-page");e.style.display="none";void 0==b&&(b=a.getAttribute("up-image"));void 0==c&&(c=a.getAttribute("over-image"));void 0==d&&(d=a.getAttribute("down-image"));var g=!1,g=k(a.j,b||"")||g;a.i||(g=k(a.g,c||"")||g);if(g=k(a.f,d||"")||g)e.appendChild(a.j),a.i||e.appendChild(a.g),e.appendChild(a.f),a.l=e,m(e,"attached",e.gwdLoad.bind(e)),m(e,"pageload",a.v),a.a.appendChild(a.l)};
p.prototype.u=function(a){if(a){a.target===this.l&&(this.o=!0,r(this),l("ready",this),l("imagebuttonloaded",this));var b=a.target.parentNode||a.target.parentElement;b&&b.removeChild(a.target)}};p.prototype.s=function(a){this.b&&a.stopPropagation()};
var r=function(a){if(a.h){var b=a.h;(b=b.ownerNode||b.owningElement||b)&&b.parentNode&&b.parentNode.removeChild(b);a.h=null}var b="",c=a.j.getAttribute("source");n(c)||(b+="."+a.c+' { background-image: url("'+c+'"); }');a.b||a.i||(c=a.g.getAttribute("source"),n(c)||(b+="."+a.c+':hover { background-image: url("'+c+'"); }'));c=a.f.getAttribute("source");n(c)||a.b||(b+="."+a.c+':active { background-image: url("'+c+'"); }');var d;d=document;if(-1!=navigator.userAgent.indexOf("MSIE")&&d.createStyleSheet)d=
d.createStyleSheet(),d.cssText=b;else{c=d.getElementsByTagName("head")[0];if(!c){var e=d.getElementsByTagName("body")[0],c=d.createElement("head");e.parentNode.insertBefore(c,e)}d=d.createElement("style");d.innerHTML=b;c.appendChild(d)}a.h=d};p.prototype.toggleEnable=function(){(this.b=!this.b)?this.setAttribute("disabled","true"):this.removeAttribute("disabled")};p.prototype.setImages=function(a,b,c){t(this,a,b,c)};document.registerElement("gwd-imagebutton",{prototype:p.prototype});}()

</script><script data-source="gwdtaparea_min.js" data-version="4" data-exports-type="gwd-taparea" src="gwdtaparea_min.js"></script>
<style>#pagedeck.gwd-pagedeck > .gwd-page.center{-webkit-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);-moz-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);-ms-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);}#pagedeck.gwd-pagedeck > .gwd-page.top{-webkit-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,250,0,1);-moz-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,250,0,1);-ms-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,250,0,1);transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,250,0,1);}#pagedeck.gwd-pagedeck > .gwd-page.bottom{-webkit-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-250,0,1);-moz-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-250,0,1);-ms-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-250,0,1);transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,-250,0,1);}#pagedeck.gwd-pagedeck > .gwd-page.left{-webkit-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,970,0,0,1);-moz-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,970,0,0,1);-ms-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,970,0,0,1);transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,970,0,0,1);}#pagedeck.gwd-pagedeck > .gwd-page.right{-webkit-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,-970,0,0,1);-moz-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,-970,0,0,1);-ms-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,-970,0,0,1);transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,-970,0,0,1);}</style></head>

<body>
  
  <gwd-doubleclick id="gwd-ad" polite-load="" style="position:absolute;top:0;z-index: 1111;">
    <gwd-metric-configuration>
      <gwd-metric-event source="taparea_inicial" event="tapareaexit" metric="" exit="Exit"></gwd-metric-event>
      <gwd-metric-event source="taparea_final" event="tapareaexit" metric="" exit="Exit"></gwd-metric-event>
    </gwd-metric-configuration>
    <div is="gwd-pagedeck" class="gwd-page-container gwd-pagedeck" id="pagedeck"><div is="gwd-page" id="page1" class="gwd-page-wrapper gwd-page-size gwd-lightbox gwd-page gwd-play-animation" data-gwd-width="970px" data-gwd-height="250px">
        <div class="gwd-page-content gwd-page-size">
          <div class="gwd-div-nnqc start" data-gwd-group="loader" id="loader">
      <img is="gwd-image" source="barras.png" class="gwd-img-6k3j gwd-grp-y5vs gwd-gen-1tjkgwdanimation" data-gwd-grp-id="barras" src="barras.png">
      <img is="gwd-image" source="mask.png" class="gwd-img-95lz gwd-grp-y5vs" data-gwd-grp-id="mascara" src="mask.png">
      <gwd_animation_label_element data-label-name="start" data-label-time="0" data-label-animation-class-name="start"></gwd_animation_label_element>
      <div class="gwd-animation-event event-3-animation" data-event-name="event-3" data-event-time="500"></div>
    </div>
          <gwd-taparea id="taparea_inicial" class="gwd-taparea-1gou"></gwd-taparea>
          <!--<ci-channelconnect-service id="service"></ci-channelconnect-service>-->
          <ci-channelconnect-button id="channel">
            <div class="gwd-div-1tup on gwd-pause-animation" data-gwd-group="jogar" id="jogar_bt" style="cursor: pointer; opacity: 1;">
      <img id="jogarImg" is="gwd-image" source="jogar_solo.png" class="gwd-img-dfau gwd-gen-1mm1gwdanimation gwd-grp-17kv" data-gwd-grp-id="bt_jogar" src="jogar_solo.png">
      <img id="jogarImg2" class="gwd-grp-17kv gwd-img-e6z8 gwd-gen-19glgwdanimation" is="gwd-image" source="jogar_solo_2.png" data-gwd-grp-id="gwd-image_1" src="jogar_solo_2.png">
      <gwd_animation_pause_element></gwd_animation_pause_element>
      <gwd_animation_label_element data-label-name="on" data-label-time="2500" data-label-animation-class-name="on"></gwd_animation_label_element>
    </div>
          </ci-channelconnect-button>
        </div>
      <div style="position: absolute; left: 0px; top: 0px; width: 100%; height: 1px; z-index: 9000; background-color: rgb(71, 75, 81);"></div><div style="position: absolute; right: 0px; top: 0px; width: 1px; height: 100%; z-index: 9000; background-color: rgb(71, 75, 81);"></div><div style="position: absolute; left: 0px; bottom: 0px; width: 100%; height: 1px; z-index: 9000; background-color: rgb(71, 75, 81);"></div><div style="position: absolute; left: 0px; top: 0px; width: 1px; height: 100%; z-index: 9000; background-color: rgb(71, 75, 81);"></div></div></div>
    <gwd-exit metric="clickTag" url="http://www.chevrolet.com.br/carros/onix.html "></gwd-exit>
    <gwd-exit metric="exitInitialFrame" url="http://www.chevrolet.com.br/carros/onix.html "></gwd-exit>
  </gwd-doubleclick>
  <img src="bg.jpg" style="position:absolute; top:0;" alt="">
  <div id="shortUrl" style="position: absolute; bottom:0; font-size: 12px;"></div>
  <div id="scaler">
    <canvas id="canvas" style="position: absolute;top:0;"></canvas>
    <img id="suv-transparency" src="suv-transparency.png" style="position:absolute; top:0;" alt="">
  </div>
  <script src="https://www.gstatic.com/ads/ci/channelconnect/1/channelconnect_min.js"></script>
  <script>
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// https://d3js.org/d3-color/ Version 1.0.2. Copyright 2016 Mike Bostock.
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
  typeof define === 'function' && define.amd ? define(['exports'], factory) :
  (factory((global.d3 = global.d3 || {})));
}(this, (function (exports) { 'use strict';

var define = function(constructor, factory, prototype) {
  constructor.prototype = factory.prototype = prototype;
  prototype.constructor = constructor;
};

function extend(parent, definition) {
  var prototype = Object.create(parent.prototype);
  for (var key in definition) prototype[key] = definition[key];
  return prototype;
}

function Color() {}

var darker = 0.7;
var brighter = 1 / darker;

var reI = "\\s*([+-]?\\d+)\\s*";
var reN = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*";
var reP = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*";
var reHex3 = /^#([0-9a-f]{3})$/;
var reHex6 = /^#([0-9a-f]{6})$/;
var reRgbInteger = new RegExp("^rgb\\(" + [reI, reI, reI] + "\\)$");
var reRgbPercent = new RegExp("^rgb\\(" + [reP, reP, reP] + "\\)$");
var reRgbaInteger = new RegExp("^rgba\\(" + [reI, reI, reI, reN] + "\\)$");
var reRgbaPercent = new RegExp("^rgba\\(" + [reP, reP, reP, reN] + "\\)$");
var reHslPercent = new RegExp("^hsl\\(" + [reN, reP, reP] + "\\)$");
var reHslaPercent = new RegExp("^hsla\\(" + [reN, reP, reP, reN] + "\\)$");

var named = {
  aliceblue: 0xf0f8ff,
  antiquewhite: 0xfaebd7,
  aqua: 0x00ffff,
  aquamarine: 0x7fffd4,
  azure: 0xf0ffff,
  beige: 0xf5f5dc,
  bisque: 0xffe4c4,
  black: 0x000000,
  blanchedalmond: 0xffebcd,
  blue: 0x0000ff,
  blueviolet: 0x8a2be2,
  brown: 0xa52a2a,
  burlywood: 0xdeb887,
  cadetblue: 0x5f9ea0,
  chartreuse: 0x7fff00,
  chocolate: 0xd2691e,
  coral: 0xff7f50,
  cornflowerblue: 0x6495ed,
  cornsilk: 0xfff8dc,
  crimson: 0xdc143c,
  cyan: 0x00ffff,
  darkblue: 0x00008b,
  darkcyan: 0x008b8b,
  darkgoldenrod: 0xb8860b,
  darkgray: 0xa9a9a9,
  darkgreen: 0x006400,
  darkgrey: 0xa9a9a9,
  darkkhaki: 0xbdb76b,
  darkmagenta: 0x8b008b,
  darkolivegreen: 0x556b2f,
  darkorange: 0xff8c00,
  darkorchid: 0x9932cc,
  darkred: 0x8b0000,
  darksalmon: 0xe9967a,
  darkseagreen: 0x8fbc8f,
  darkslateblue: 0x483d8b,
  darkslategray: 0x2f4f4f,
  darkslategrey: 0x2f4f4f,
  darkturquoise: 0x00ced1,
  darkviolet: 0x9400d3,
  deeppink: 0xff1493,
  deepskyblue: 0x00bfff,
  dimgray: 0x696969,
  dimgrey: 0x696969,
  dodgerblue: 0x1e90ff,
  firebrick: 0xb22222,
  floralwhite: 0xfffaf0,
  forestgreen: 0x228b22,
  fuchsia: 0xff00ff,
  gainsboro: 0xdcdcdc,
  ghostwhite: 0xf8f8ff,
  gold: 0xffd700,
  goldenrod: 0xdaa520,
  gray: 0x808080,
  green: 0x008000,
  greenyellow: 0xadff2f,
  grey: 0x808080,
  honeydew: 0xf0fff0,
  hotpink: 0xff69b4,
  indianred: 0xcd5c5c,
  indigo: 0x4b0082,
  ivory: 0xfffff0,
  khaki: 0xf0e68c,
  lavender: 0xe6e6fa,
  lavenderblush: 0xfff0f5,
  lawngreen: 0x7cfc00,
  lemonchiffon: 0xfffacd,
  lightblue: 0xadd8e6,
  lightcoral: 0xf08080,
  lightcyan: 0xe0ffff,
  lightgoldenrodyellow: 0xfafad2,
  lightgray: 0xd3d3d3,
  lightgreen: 0x90ee90,
  lightgrey: 0xd3d3d3,
  lightpink: 0xffb6c1,
  lightsalmon: 0xffa07a,
  lightseagreen: 0x20b2aa,
  lightskyblue: 0x87cefa,
  lightslategray: 0x778899,
  lightslategrey: 0x778899,
  lightsteelblue: 0xb0c4de,
  lightyellow: 0xffffe0,
  lime: 0x00ff00,
  limegreen: 0x32cd32,
  linen: 0xfaf0e6,
  magenta: 0xff00ff,
  maroon: 0x800000,
  mediumaquamarine: 0x66cdaa,
  mediumblue: 0x0000cd,
  mediumorchid: 0xba55d3,
  mediumpurple: 0x9370db,
  mediumseagreen: 0x3cb371,
  mediumslateblue: 0x7b68ee,
  mediumspringgreen: 0x00fa9a,
  mediumturquoise: 0x48d1cc,
  mediumvioletred: 0xc71585,
  midnightblue: 0x191970,
  mintcream: 0xf5fffa,
  mistyrose: 0xffe4e1,
  moccasin: 0xffe4b5,
  navajowhite: 0xffdead,
  navy: 0x000080,
  oldlace: 0xfdf5e6,
  olive: 0x808000,
  olivedrab: 0x6b8e23,
  orange: 0xffa500,
  orangered: 0xff4500,
  orchid: 0xda70d6,
  palegoldenrod: 0xeee8aa,
  palegreen: 0x98fb98,
  paleturquoise: 0xafeeee,
  palevioletred: 0xdb7093,
  papayawhip: 0xffefd5,
  peachpuff: 0xffdab9,
  peru: 0xcd853f,
  pink: 0xffc0cb,
  plum: 0xdda0dd,
  powderblue: 0xb0e0e6,
  purple: 0x800080,
  rebeccapurple: 0x663399,
  red: 0xff0000,
  rosybrown: 0xbc8f8f,
  royalblue: 0x4169e1,
  saddlebrown: 0x8b4513,
  salmon: 0xfa8072,
  sandybrown: 0xf4a460,
  seagreen: 0x2e8b57,
  seashell: 0xfff5ee,
  sienna: 0xa0522d,
  silver: 0xc0c0c0,
  skyblue: 0x87ceeb,
  slateblue: 0x6a5acd,
  slategray: 0x708090,
  slategrey: 0x708090,
  snow: 0xfffafa,
  springgreen: 0x00ff7f,
  steelblue: 0x4682b4,
  tan: 0xd2b48c,
  teal: 0x008080,
  thistle: 0xd8bfd8,
  tomato: 0xff6347,
  turquoise: 0x40e0d0,
  violet: 0xee82ee,
  wheat: 0xf5deb3,
  white: 0xffffff,
  whitesmoke: 0xf5f5f5,
  yellow: 0xffff00,
  yellowgreen: 0x9acd32
};

define(Color, color, {
  displayable: function() {
    return this.rgb().displayable();
  },
  toString: function() {
    return this.rgb() + "";
  }
});

function color(format) {
  var m;
  format = (format + "").trim().toLowerCase();
  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00
      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000
      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)
      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)
      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)
      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)
      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)
      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)
      : named.hasOwnProperty(format) ? rgbn(named[format])
      : format === "transparent" ? new Rgb(NaN, NaN, NaN, 0)
      : null;
}

function rgbn(n) {
  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);
}

function rgba(r, g, b, a) {
  if (a <= 0) r = g = b = NaN;
  return new Rgb(r, g, b, a);
}

function rgbConvert(o) {
  if (!(o instanceof Color)) o = color(o);
  if (!o) return new Rgb;
  o = o.rgb();
  return new Rgb(o.r, o.g, o.b, o.opacity);
}

function rgb(r, g, b, opacity) {
  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);
}

function Rgb(r, g, b, opacity) {
  this.r = +r;
  this.g = +g;
  this.b = +b;
  this.opacity = +opacity;
}

define(Rgb, rgb, extend(Color, {
  brighter: function(k) {
    k = k == null ? brighter : Math.pow(brighter, k);
    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);
  },
  darker: function(k) {
    k = k == null ? darker : Math.pow(darker, k);
    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);
  },
  rgb: function() {
    return this;
  },
  displayable: function() {
    return (0 <= this.r && this.r <= 255)
        && (0 <= this.g && this.g <= 255)
        && (0 <= this.b && this.b <= 255)
        && (0 <= this.opacity && this.opacity <= 1);
  },
  toString: function() {
    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));
    return (a === 1 ? "rgb(" : "rgba(")
        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", "
        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", "
        + Math.max(0, Math.min(255, Math.round(this.b) || 0))
        + (a === 1 ? ")" : ", " + a + ")");
  }
}));

function hsla(h, s, l, a) {
  if (a <= 0) h = s = l = NaN;
  else if (l <= 0 || l >= 1) h = s = NaN;
  else if (s <= 0) h = NaN;
  return new Hsl(h, s, l, a);
}

function hslConvert(o) {
  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Color)) o = color(o);
  if (!o) return new Hsl;
  if (o instanceof Hsl) return o;
  o = o.rgb();
  var r = o.r / 255,
      g = o.g / 255,
      b = o.b / 255,
      min = Math.min(r, g, b),
      max = Math.max(r, g, b),
      h = NaN,
      s = max - min,
      l = (max + min) / 2;
  if (s) {
    if (r === max) h = (g - b) / s + (g < b) * 6;
    else if (g === max) h = (b - r) / s + 2;
    else h = (r - g) / s + 4;
    s /= l < 0.5 ? max + min : 2 - max - min;
    h *= 60;
  } else {
    s = l > 0 && l < 1 ? 0 : h;
  }
  return new Hsl(h, s, l, o.opacity);
}

function hsl(h, s, l, opacity) {
  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);
}

function Hsl(h, s, l, opacity) {
  this.h = +h;
  this.s = +s;
  this.l = +l;
  this.opacity = +opacity;
}

define(Hsl, hsl, extend(Color, {
  brighter: function(k) {
    k = k == null ? brighter : Math.pow(brighter, k);
    return new Hsl(this.h, this.s, this.l * k, this.opacity);
  },
  darker: function(k) {
    k = k == null ? darker : Math.pow(darker, k);
    return new Hsl(this.h, this.s, this.l * k, this.opacity);
  },
  rgb: function() {
    var h = this.h % 360 + (this.h < 0) * 360,
        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,
        l = this.l,
        m2 = l + (l < 0.5 ? l : 1 - l) * s,
        m1 = 2 * l - m2;
    return new Rgb(
      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),
      hsl2rgb(h, m1, m2),
      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),
      this.opacity
    );
  },
  displayable: function() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s))
        && (0 <= this.l && this.l <= 1)
        && (0 <= this.opacity && this.opacity <= 1);
  }
}));

/* From FvD 13.37, CSS Color Module Level 3 */
function hsl2rgb(h, m1, m2) {
  return (h < 60 ? m1 + (m2 - m1) * h / 60
      : h < 180 ? m2
      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60
      : m1) * 255;
}

var deg2rad = Math.PI / 180;
var rad2deg = 180 / Math.PI;

var Kn = 18;
var Xn = 0.950470;
var Yn = 1;
var Zn = 1.088830;
var t0 = 4 / 29;
var t1 = 6 / 29;
var t2 = 3 * t1 * t1;
var t3 = t1 * t1 * t1;

function labConvert(o) {
  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);
  if (o instanceof Hcl) {
    var h = o.h * deg2rad;
    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);
  }
  if (!(o instanceof Rgb)) o = rgbConvert(o);
  var b = rgb2xyz(o.r),
      a = rgb2xyz(o.g),
      l = rgb2xyz(o.b),
      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),
      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),
      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);
  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);
}

function lab(l, a, b, opacity) {
  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);
}

function Lab(l, a, b, opacity) {
  this.l = +l;
  this.a = +a;
  this.b = +b;
  this.opacity = +opacity;
}

define(Lab, lab, extend(Color, {
  brighter: function(k) {
    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);
  },
  darker: function(k) {
    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);
  },
  rgb: function() {
    var y = (this.l + 16) / 116,
        x = isNaN(this.a) ? y : y + this.a / 500,
        z = isNaN(this.b) ? y : y - this.b / 200;
    y = Yn * lab2xyz(y);
    x = Xn * lab2xyz(x);
    z = Zn * lab2xyz(z);
    return new Rgb(
      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB
      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),
      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),
      this.opacity
    );
  }
}));

function xyz2lab(t) {
  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;
}

function lab2xyz(t) {
  return t > t1 ? t * t * t : t2 * (t - t0);
}

function xyz2rgb(x) {
  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);
}

function rgb2xyz(x) {
  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);
}

function hclConvert(o) {
  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);
  if (!(o instanceof Lab)) o = labConvert(o);
  var h = Math.atan2(o.b, o.a) * rad2deg;
  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);
}

function hcl(h, c, l, opacity) {
  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);
}

function Hcl(h, c, l, opacity) {
  this.h = +h;
  this.c = +c;
  this.l = +l;
  this.opacity = +opacity;
}

define(Hcl, hcl, extend(Color, {
  brighter: function(k) {
    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);
  },
  darker: function(k) {
    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);
  },
  rgb: function() {
    return labConvert(this).rgb();
  }
}));

var A = -0.14861;
var B = +1.78277;
var C = -0.29227;
var D = -0.90649;
var E = +1.97294;
var ED = E * D;
var EB = E * B;
var BC_DA = B * C - D * A;

function cubehelixConvert(o) {
  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Rgb)) o = rgbConvert(o);
  var r = o.r / 255,
      g = o.g / 255,
      b = o.b / 255,
      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),
      bl = b - l,
      k = (E * (g - l) - C * bl) / D,
      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1
      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;
  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);
}

function cubehelix(h, s, l, opacity) {
  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);
}

function Cubehelix(h, s, l, opacity) {
  this.h = +h;
  this.s = +s;
  this.l = +l;
  this.opacity = +opacity;
}

define(Cubehelix, cubehelix, extend(Color, {
  brighter: function(k) {
    k = k == null ? brighter : Math.pow(brighter, k);
    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);
  },
  darker: function(k) {
    k = k == null ? darker : Math.pow(darker, k);
    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);
  },
  rgb: function() {
    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,
        l = +this.l,
        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),
        cosh = Math.cos(h),
        sinh = Math.sin(h);
    return new Rgb(
      255 * (l + a * (A * cosh + B * sinh)),
      255 * (l + a * (C * cosh + D * sinh)),
      255 * (l + a * (E * cosh)),
      this.opacity
    );
  }
}));

exports.color = color;
exports.rgb = rgb;
exports.hsl = hsl;
exports.lab = lab;
exports.hcl = hcl;
exports.cubehelix = cubehelix;

Object.defineProperty(exports, '__esModule', { value: true });

})));

},{}],2:[function(require,module,exports){
// https://d3js.org/d3-dispatch/ Version 1.0.2. Copyright 2016 Mike Bostock.
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
  typeof define === 'function' && define.amd ? define(['exports'], factory) :
  (factory((global.d3 = global.d3 || {})));
}(this, (function (exports) { 'use strict';

var noop = {value: function() {}};

function dispatch() {
  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {
    if (!(t = arguments[i] + "") || (t in _)) throw new Error("illegal type: " + t);
    _[t] = [];
  }
  return new Dispatch(_);
}

function Dispatch(_) {
  this._ = _;
}

function parseTypenames(typenames, types) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name = "", i = t.indexOf(".");
    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);
    if (t && !types.hasOwnProperty(t)) throw new Error("unknown type: " + t);
    return {type: t, name: name};
  });
}

Dispatch.prototype = dispatch.prototype = {
  constructor: Dispatch,
  on: function(typename, callback) {
    var _ = this._,
        T = parseTypenames(typename + "", _),
        t,
        i = -1,
        n = T.length;

    // If no callback was specified, return the callback of the given type and name.
    if (arguments.length < 2) {
      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;
      return;
    }

    // If a type was specified, set the callback for the given type and name.
    // Otherwise, if a null callback was specified, remove callbacks of the given name.
    if (callback != null && typeof callback !== "function") throw new Error("invalid callback: " + callback);
    while (++i < n) {
      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);
      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);
    }

    return this;
  },
  copy: function() {
    var copy = {}, _ = this._;
    for (var t in _) copy[t] = _[t].slice();
    return new Dispatch(copy);
  },
  call: function(type, that) {
    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];
    if (!this._.hasOwnProperty(type)) throw new Error("unknown type: " + type);
    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);
  },
  apply: function(type, that, args) {
    if (!this._.hasOwnProperty(type)) throw new Error("unknown type: " + type);
    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);
  }
};

function get(type, name) {
  for (var i = 0, n = type.length, c; i < n; ++i) {
    if ((c = type[i]).name === name) {
      return c.value;
    }
  }
}

function set(type, name, callback) {
  for (var i = 0, n = type.length; i < n; ++i) {
    if (type[i].name === name) {
      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));
      break;
    }
  }
  if (callback != null) type.push({name: name, value: callback});
  return type;
}

exports.dispatch = dispatch;

Object.defineProperty(exports, '__esModule', { value: true });

})));

},{}],3:[function(require,module,exports){
// https://d3js.org/d3-drag/ Version 1.0.2. Copyright 2016 Mike Bostock.
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-dispatch'), require('d3-selection')) :
  typeof define === 'function' && define.amd ? define(['exports', 'd3-dispatch', 'd3-selection'], factory) :
  (factory((global.d3 = global.d3 || {}),global.d3,global.d3));
}(this, (function (exports,d3Dispatch,d3Selection) { 'use strict';

function nopropagation() {
  d3Selection.event.stopImmediatePropagation();
}

var noevent = function() {
  d3Selection.event.preventDefault();
  d3Selection.event.stopImmediatePropagation();
};

var nodrag = function(view) {
  var root = view.document.documentElement,
      selection = d3Selection.select(view).on("dragstart.drag", noevent, true);
  if ("onselectstart" in root) {
    selection.on("selectstart.drag", noevent, true);
  } else {
    root.__noselect = root.style.MozUserSelect;
    root.style.MozUserSelect = "none";
  }
};

function yesdrag(view, noclick) {
  var root = view.document.documentElement,
      selection = d3Selection.select(view).on("dragstart.drag", null);
  if (noclick) {
    selection.on("click.drag", noevent, true);
    setTimeout(function() { selection.on("click.drag", null); }, 0);
  }
  if ("onselectstart" in root) {
    selection.on("selectstart.drag", null);
  } else {
    root.style.MozUserSelect = root.__noselect;
    delete root.__noselect;
  }
}

var constant = function(x) {
  return function() {
    return x;
  };
};

function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch$$1) {
  this.target = target;
  this.type = type;
  this.subject = subject;
  this.identifier = id;
  this.active = active;
  this.x = x;
  this.y = y;
  this.dx = dx;
  this.dy = dy;
  this._ = dispatch$$1;
}

DragEvent.prototype.on = function() {
  var value = this._.on.apply(this._, arguments);
  return value === this._ ? this : value;
};

// Ignore right-click, since that should open the context menu.
function defaultFilter() {
  return !d3Selection.event.button;
}

function defaultContainer() {
  return this.parentNode;
}

function defaultSubject(d) {
  return d == null ? {x: d3Selection.event.x, y: d3Selection.event.y} : d;
}

var drag = function() {
  var filter = defaultFilter,
      container = defaultContainer,
      subject = defaultSubject,
      gestures = {},
      listeners = d3Dispatch.dispatch("start", "drag", "end"),
      active = 0,
      mousemoving,
      touchending;

  function drag(selection) {
    selection
        .on("mousedown.drag", mousedowned)
        .on("touchstart.drag", touchstarted)
        .on("touchmove.drag", touchmoved)
        .on("touchend.drag touchcancel.drag", touchended)
        .style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }

  function mousedowned() {
    if (touchending || !filter.apply(this, arguments)) return;
    var gesture = beforestart("mouse", container.apply(this, arguments), d3Selection.mouse, this, arguments);
    if (!gesture) return;
    d3Selection.select(d3Selection.event.view).on("mousemove.drag", mousemoved, true).on("mouseup.drag", mouseupped, true);
    nodrag(d3Selection.event.view);
    nopropagation();
    mousemoving = false;
    gesture("start");
  }

  function mousemoved() {
    noevent();
    mousemoving = true;
    gestures.mouse("drag");
  }

  function mouseupped() {
    d3Selection.select(d3Selection.event.view).on("mousemove.drag mouseup.drag", null);
    yesdrag(d3Selection.event.view, mousemoving);
    noevent();
    gestures.mouse("end");
  }

  function touchstarted() {
    if (!filter.apply(this, arguments)) return;
    var touches = d3Selection.event.changedTouches,
        c = container.apply(this, arguments),
        n = touches.length, i, gesture;

    for (i = 0; i < n; ++i) {
      if (gesture = beforestart(touches[i].identifier, c, d3Selection.touch, this, arguments)) {
        nopropagation();
        gesture("start");
      }
    }
  }

  function touchmoved() {
    var touches = d3Selection.event.changedTouches,
        n = touches.length, i, gesture;

    for (i = 0; i < n; ++i) {
      if (gesture = gestures[touches[i].identifier]) {
        noevent();
        gesture("drag");
      }
    }
  }

  function touchended() {
    var touches = d3Selection.event.changedTouches,
        n = touches.length, i, gesture;

    if (touchending) clearTimeout(touchending);
    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!
    for (i = 0; i < n; ++i) {
      if (gesture = gestures[touches[i].identifier]) {
        nopropagation();
        gesture("end");
      }
    }
  }

  function beforestart(id, container, point, that, args) {
    var p = point(container, id), s, dx, dy,
        sublisteners = listeners.copy();

    if (!d3Selection.customEvent(new DragEvent(drag, "beforestart", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {
      if ((d3Selection.event.subject = s = subject.apply(that, args)) == null) return false;
      dx = s.x - p[0] || 0;
      dy = s.y - p[1] || 0;
      return true;
    })) return;

    return function gesture(type) {
      var p0 = p, n;
      switch (type) {
        case "start": gestures[id] = gesture, n = active++; break;
        case "end": delete gestures[id], --active; // nobreak
        case "drag": p = point(container, id), n = active; break;
      }
      d3Selection.customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);
    };
  }

  drag.filter = function(_) {
    return arguments.length ? (filter = typeof _ === "function" ? _ : constant(!!_), drag) : filter;
  };

  drag.container = function(_) {
    return arguments.length ? (container = typeof _ === "function" ? _ : constant(_), drag) : container;
  };

  drag.subject = function(_) {
    return arguments.length ? (subject = typeof _ === "function" ? _ : constant(_), drag) : subject;
  };

  drag.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? drag : value;
  };

  return drag;
};

exports.drag = drag;
exports.dragDisable = nodrag;
exports.dragEnable = yesdrag;

Object.defineProperty(exports, '__esModule', { value: true });

})));

},{"d3-dispatch":2,"d3-selection":6}],4:[function(require,module,exports){
// https://d3js.org/d3-ease/ Version 1.0.2. Copyright 2016 Mike Bostock.
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
  typeof define === 'function' && define.amd ? define(['exports'], factory) :
  (factory((global.d3 = global.d3 || {})));
}(this, (function (exports) { 'use strict';

function linear(t) {
  return +t;
}

function quadIn(t) {
  return t * t;
}

function quadOut(t) {
  return t * (2 - t);
}

function quadInOut(t) {
  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;
}

function cubicIn(t) {
  return t * t * t;
}

function cubicOut(t) {
  return --t * t * t + 1;
}

function cubicInOut(t) {
  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}

var exponent = 3;

var polyIn = (function custom(e) {
  e = +e;

  function polyIn(t) {
    return Math.pow(t, e);
  }

  polyIn.exponent = custom;

  return polyIn;
})(exponent);

var polyOut = (function custom(e) {
  e = +e;

  function polyOut(t) {
    return 1 - Math.pow(1 - t, e);
  }

  polyOut.exponent = custom;

  return polyOut;
})(exponent);

var polyInOut = (function custom(e) {
  e = +e;

  function polyInOut(t) {
    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;
  }

  polyInOut.exponent = custom;

  return polyInOut;
})(exponent);

var pi = Math.PI;
var halfPi = pi / 2;

function sinIn(t) {
  return 1 - Math.cos(t * halfPi);
}

function sinOut(t) {
  return Math.sin(t * halfPi);
}

function sinInOut(t) {
  return (1 - Math.cos(pi * t)) / 2;
}

function expIn(t) {
  return Math.pow(2, 10 * t - 10);
}

function expOut(t) {
  return 1 - Math.pow(2, -10 * t);
}

function expInOut(t) {
  return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;
}

function circleIn(t) {
  return 1 - Math.sqrt(1 - t * t);
}

function circleOut(t) {
  return Math.sqrt(1 - --t * t);
}

function circleInOut(t) {
  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;
}

var b1 = 4 / 11;
var b2 = 6 / 11;
var b3 = 8 / 11;
var b4 = 3 / 4;
var b5 = 9 / 11;
var b6 = 10 / 11;
var b7 = 15 / 16;
var b8 = 21 / 22;
var b9 = 63 / 64;
var b0 = 1 / b1 / b1;

function bounceIn(t) {
  return 1 - bounceOut(1 - t);
}

function bounceOut(t) {
  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;
}

function bounceInOut(t) {
  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;
}

var overshoot = 1.70158;

var backIn = (function custom(s) {
  s = +s;

  function backIn(t) {
    return t * t * ((s + 1) * t - s);
  }

  backIn.overshoot = custom;

  return backIn;
})(overshoot);

var backOut = (function custom(s) {
  s = +s;

  function backOut(t) {
    return --t * t * ((s + 1) * t + s) + 1;
  }

  backOut.overshoot = custom;

  return backOut;
})(overshoot);

var backInOut = (function custom(s) {
  s = +s;

  function backInOut(t) {
    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;
  }

  backInOut.overshoot = custom;

  return backInOut;
})(overshoot);

var tau = 2 * Math.PI;
var amplitude = 1;
var period = 0.3;

var elasticIn = (function custom(a, p) {
  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);

  function elasticIn(t) {
    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);
  }

  elasticIn.amplitude = function(a) { return custom(a, p * tau); };
  elasticIn.period = function(p) { return custom(a, p); };

  return elasticIn;
})(amplitude, period);

var elasticOut = (function custom(a, p) {
  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);

  function elasticOut(t) {
    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);
  }

  elasticOut.amplitude = function(a) { return custom(a, p * tau); };
  elasticOut.period = function(p) { return custom(a, p); };

  return elasticOut;
})(amplitude, period);

var elasticInOut = (function custom(a, p) {
  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);

  function elasticInOut(t) {
    return ((t = t * 2 - 1) < 0
        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)
        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;
  }

  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };
  elasticInOut.period = function(p) { return custom(a, p); };

  return elasticInOut;
})(amplitude, period);

exports.easeLinear = linear;
exports.easeQuad = quadInOut;
exports.easeQuadIn = quadIn;
exports.easeQuadOut = quadOut;
exports.easeQuadInOut = quadInOut;
exports.easeCubic = cubicInOut;
exports.easeCubicIn = cubicIn;
exports.easeCubicOut = cubicOut;
exports.easeCubicInOut = cubicInOut;
exports.easePoly = polyInOut;
exports.easePolyIn = polyIn;
exports.easePolyOut = polyOut;
exports.easePolyInOut = polyInOut;
exports.easeSin = sinInOut;
exports.easeSinIn = sinIn;
exports.easeSinOut = sinOut;
exports.easeSinInOut = sinInOut;
exports.easeExp = expInOut;
exports.easeExpIn = expIn;
exports.easeExpOut = expOut;
exports.easeExpInOut = expInOut;
exports.easeCircle = circleInOut;
exports.easeCircleIn = circleIn;
exports.easeCircleOut = circleOut;
exports.easeCircleInOut = circleInOut;
exports.easeBounce = bounceOut;
exports.easeBounceIn = bounceIn;
exports.easeBounceOut = bounceOut;
exports.easeBounceInOut = bounceInOut;
exports.easeBack = backInOut;
exports.easeBackIn = backIn;
exports.easeBackOut = backOut;
exports.easeBackInOut = backInOut;
exports.easeElastic = elasticOut;
exports.easeElasticIn = elasticIn;
exports.easeElasticOut = elasticOut;
exports.easeElasticInOut = elasticInOut;

Object.defineProperty(exports, '__esModule', { value: true });

})));

},{}],5:[function(require,module,exports){
// https://d3js.org/d3-interpolate/ Version 1.1.3. Copyright 2017 Mike Bostock.
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-color')) :
  typeof define === 'function' && define.amd ? define(['exports', 'd3-color'], factory) :
  (factory((global.d3 = global.d3 || {}),global.d3));
}(this, (function (exports,d3Color) { 'use strict';

function basis(t1, v0, v1, v2, v3) {
  var t2 = t1 * t1, t3 = t2 * t1;
  return ((1 - 3 * t1 + 3 * t2 - t3) * v0
      + (4 - 6 * t2 + 3 * t3) * v1
      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2
      + t3 * v3) / 6;
}

var basis$1 = function(values) {
  var n = values.length - 1;
  return function(t) {
    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),
        v1 = values[i],
        v2 = values[i + 1],
        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,
        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;
    return basis((t - i / n) * n, v0, v1, v2, v3);
  };
};

var basisClosed = function(values) {
  var n = values.length;
  return function(t) {
    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),
        v0 = values[(i + n - 1) % n],
        v1 = values[i % n],
        v2 = values[(i + 1) % n],
        v3 = values[(i + 2) % n];
    return basis((t - i / n) * n, v0, v1, v2, v3);
  };
};

var constant = function(x) {
  return function() {
    return x;
  };
};

function linear(a, d) {
  return function(t) {
    return a + t * d;
  };
}

function exponential(a, b, y) {
  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {
    return Math.pow(a + t * b, y);
  };
}

function hue(a, b) {
  var d = b - a;
  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);
}

function gamma(y) {
  return (y = +y) === 1 ? nogamma : function(a, b) {
    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);
  };
}

function nogamma(a, b) {
  var d = b - a;
  return d ? linear(a, d) : constant(isNaN(a) ? b : a);
}

var rgb$1 = ((function rgbGamma(y) {
  var color$$1 = gamma(y);

  function rgb$$1(start, end) {
    var r = color$$1((start = d3Color.rgb(start)).r, (end = d3Color.rgb(end)).r),
        g = color$$1(start.g, end.g),
        b = color$$1(start.b, end.b),
        opacity = nogamma(start.opacity, end.opacity);
    return function(t) {
      start.r = r(t);
      start.g = g(t);
      start.b = b(t);
      start.opacity = opacity(t);
      return start + "";
    };
  }

  rgb$$1.gamma = rgbGamma;

  return rgb$$1;
}))(1);

function rgbSpline(spline) {
  return function(colors) {
    var n = colors.length,
        r = new Array(n),
        g = new Array(n),
        b = new Array(n),
        i, color$$1;
    for (i = 0; i < n; ++i) {
      color$$1 = d3Color.rgb(colors[i]);
      r[i] = color$$1.r || 0;
      g[i] = color$$1.g || 0;
      b[i] = color$$1.b || 0;
    }
    r = spline(r);
    g = spline(g);
    b = spline(b);
    color$$1.opacity = 1;
    return function(t) {
      color$$1.r = r(t);
      color$$1.g = g(t);
      color$$1.b = b(t);
      return color$$1 + "";
    };
  };
}

var rgbBasis = rgbSpline(basis$1);
var rgbBasisClosed = rgbSpline(basisClosed);

var array = function(a, b) {
  var nb = b ? b.length : 0,
      na = a ? Math.min(nb, a.length) : 0,
      x = new Array(nb),
      c = new Array(nb),
      i;

  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);
  for (; i < nb; ++i) c[i] = b[i];

  return function(t) {
    for (i = 0; i < na; ++i) c[i] = x[i](t);
    return c;
  };
};

var date = function(a, b) {
  var d = new Date;
  return a = +a, b -= a, function(t) {
    return d.setTime(a + b * t), d;
  };
};

var number = function(a, b) {
  return a = +a, b -= a, function(t) {
    return a + b * t;
  };
};

var object = function(a, b) {
  var i = {},
      c = {},
      k;

  if (a === null || typeof a !== "object") a = {};
  if (b === null || typeof b !== "object") b = {};

  for (k in b) {
    if (k in a) {
      i[k] = value(a[k], b[k]);
    } else {
      c[k] = b[k];
    }
  }

  return function(t) {
    for (k in i) c[k] = i[k](t);
    return c;
  };
};

var reA = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
var reB = new RegExp(reA.source, "g");

function zero(b) {
  return function() {
    return b;
  };
}

function one(b) {
  return function(t) {
    return b(t) + "";
  };
}

var string = function(a, b) {
  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b
      am, // current match in a
      bm, // current match in b
      bs, // string preceding current number in b, if any
      i = -1, // index in s
      s = [], // string constants and placeholders
      q = []; // number interpolators

  // Coerce inputs to strings.
  a = a + "", b = b + "";

  // Interpolate pairs of numbers in a & b.
  while ((am = reA.exec(a))
      && (bm = reB.exec(b))) {
    if ((bs = bm.index) > bi) { // a string precedes the next number in b
      bs = b.slice(bi, bs);
      if (s[i]) s[i] += bs; // coalesce with previous string
      else s[++i] = bs;
    }
    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match
      if (s[i]) s[i] += bm; // coalesce with previous string
      else s[++i] = bm;
    } else { // interpolate non-matching numbers
      s[++i] = null;
      q.push({i: i, x: number(am, bm)});
    }
    bi = reB.lastIndex;
  }

  // Add remains of b.
  if (bi < b.length) {
    bs = b.slice(bi);
    if (s[i]) s[i] += bs; // coalesce with previous string
    else s[++i] = bs;
  }

  // Special optimization for only a single match.
  // Otherwise, interpolate each of the numbers and rejoin the string.
  return s.length < 2 ? (q[0]
      ? one(q[0].x)
      : zero(b))
      : (b = q.length, function(t) {
          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);
          return s.join("");
        });
};

var value = function(a, b) {
  var t = typeof b, c;
  return b == null || t === "boolean" ? constant(b)
      : (t === "number" ? number
      : t === "string" ? ((c = d3Color.color(b)) ? (b = c, rgb$1) : string)
      : b instanceof d3Color.color ? rgb$1
      : b instanceof Date ? date
      : Array.isArray(b) ? array
      : isNaN(b) ? object
      : number)(a, b);
};

var round = function(a, b) {
  return a = +a, b -= a, function(t) {
    return Math.round(a + b * t);
  };
};

var degrees = 180 / Math.PI;

var identity = {
  translateX: 0,
  translateY: 0,
  rotate: 0,
  skewX: 0,
  scaleX: 1,
  scaleY: 1
};

var decompose = function(a, b, c, d, e, f) {
  var scaleX, scaleY, skewX;
  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;
  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;
  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;
  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;
  return {
    translateX: e,
    translateY: f,
    rotate: Math.atan2(b, a) * degrees,
    skewX: Math.atan(skewX) * degrees,
    scaleX: scaleX,
    scaleY: scaleY
  };
};

var cssNode;
var cssRoot;
var cssView;
var svgNode;

function parseCss(value) {
  if (value === "none") return identity;
  if (!cssNode) cssNode = document.createElement("DIV"), cssRoot = document.documentElement, cssView = document.defaultView;
  cssNode.style.transform = value;
  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue("transform");
  cssRoot.removeChild(cssNode);
  value = value.slice(7, -1).split(",");
  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);
}

function parseSvg(value) {
  if (value == null) return identity;
  if (!svgNode) svgNode = document.createElementNS("http://www.w3.org/2000/svg", "g");
  svgNode.setAttribute("transform", value);
  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;
  value = value.matrix;
  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);
}

function interpolateTransform(parse, pxComma, pxParen, degParen) {

  function pop(s) {
    return s.length ? s.pop() + " " : "";
  }

  function translate(xa, ya, xb, yb, s, q) {
    if (xa !== xb || ya !== yb) {
      var i = s.push("translate(", null, pxComma, null, pxParen);
      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});
    } else if (xb || yb) {
      s.push("translate(" + xb + pxComma + yb + pxParen);
    }
  }

  function rotate(a, b, s, q) {
    if (a !== b) {
      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path
      q.push({i: s.push(pop(s) + "rotate(", null, degParen) - 2, x: number(a, b)});
    } else if (b) {
      s.push(pop(s) + "rotate(" + b + degParen);
    }
  }

  function skewX(a, b, s, q) {
    if (a !== b) {
      q.push({i: s.push(pop(s) + "skewX(", null, degParen) - 2, x: number(a, b)});
    } else if (b) {
      s.push(pop(s) + "skewX(" + b + degParen);
    }
  }

  function scale(xa, ya, xb, yb, s, q) {
    if (xa !== xb || ya !== yb) {
      var i = s.push(pop(s) + "scale(", null, ",", null, ")");
      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});
    } else if (xb !== 1 || yb !== 1) {
      s.push(pop(s) + "scale(" + xb + "," + yb + ")");
    }
  }

  return function(a, b) {
    var s = [], // string constants and placeholders
        q = []; // number interpolators
    a = parse(a), b = parse(b);
    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);
    rotate(a.rotate, b.rotate, s, q);
    skewX(a.skewX, b.skewX, s, q);
    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);
    a = b = null; // gc
    return function(t) {
      var i = -1, n = q.length, o;
      while (++i < n) s[(o = q[i]).i] = o.x(t);
      return s.join("");
    };
  };
}

var interpolateTransformCss = interpolateTransform(parseCss, "px, ", "px)", "deg)");
var interpolateTransformSvg = interpolateTransform(parseSvg, ", ", ")", ")");

var rho = Math.SQRT2;
var rho2 = 2;
var rho4 = 4;
var epsilon2 = 1e-12;

function cosh(x) {
  return ((x = Math.exp(x)) + 1 / x) / 2;
}

function sinh(x) {
  return ((x = Math.exp(x)) - 1 / x) / 2;
}

function tanh(x) {
  return ((x = Math.exp(2 * x)) - 1) / (x + 1);
}

// p0 = [ux0, uy0, w0]
// p1 = [ux1, uy1, w1]
var zoom = function(p0, p1) {
  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],
      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],
      dx = ux1 - ux0,
      dy = uy1 - uy0,
      d2 = dx * dx + dy * dy,
      i,
      S;

  // Special case for u0 ≅ u1.
  if (d2 < epsilon2) {
    S = Math.log(w1 / w0) / rho;
    i = function(t) {
      return [
        ux0 + t * dx,
        uy0 + t * dy,
        w0 * Math.exp(rho * t * S)
      ];
    };
  }

  // General case.
  else {
    var d1 = Math.sqrt(d2),
        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),
        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),
        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),
        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);
    S = (r1 - r0) / rho;
    i = function(t) {
      var s = t * S,
          coshr0 = cosh(r0),
          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));
      return [
        ux0 + u * dx,
        uy0 + u * dy,
        w0 * coshr0 / cosh(rho * s + r0)
      ];
    };
  }

  i.duration = S * 1000;

  return i;
};

function hsl$1(hue$$1) {
  return function(start, end) {
    var h = hue$$1((start = d3Color.hsl(start)).h, (end = d3Color.hsl(end)).h),
        s = nogamma(start.s, end.s),
        l = nogamma(start.l, end.l),
        opacity = nogamma(start.opacity, end.opacity);
    return function(t) {
      start.h = h(t);
      start.s = s(t);
      start.l = l(t);
      start.opacity = opacity(t);
      return start + "";
    };
  }
}

var hsl$2 = hsl$1(hue);
var hslLong = hsl$1(nogamma);

function lab$1(start, end) {
  var l = nogamma((start = d3Color.lab(start)).l, (end = d3Color.lab(end)).l),
      a = nogamma(start.a, end.a),
      b = nogamma(start.b, end.b),
      opacity = nogamma(start.opacity, end.opacity);
  return function(t) {
    start.l = l(t);
    start.a = a(t);
    start.b = b(t);
    start.opacity = opacity(t);
    return start + "";
  };
}

function hcl$1(hue$$1) {
  return function(start, end) {
    var h = hue$$1((start = d3Color.hcl(start)).h, (end = d3Color.hcl(end)).h),
        c = nogamma(start.c, end.c),
        l = nogamma(start.l, end.l),
        opacity = nogamma(start.opacity, end.opacity);
    return function(t) {
      start.h = h(t);
      start.c = c(t);
      start.l = l(t);
      start.opacity = opacity(t);
      return start + "";
    };
  }
}

var hcl$2 = hcl$1(hue);
var hclLong = hcl$1(nogamma);

function cubehelix$1(hue$$1) {
  return (function cubehelixGamma(y) {
    y = +y;

    function cubehelix$$1(start, end) {
      var h = hue$$1((start = d3Color.cubehelix(start)).h, (end = d3Color.cubehelix(end)).h),
          s = nogamma(start.s, end.s),
          l = nogamma(start.l, end.l),
          opacity = nogamma(start.opacity, end.opacity);
      return function(t) {
        start.h = h(t);
        start.s = s(t);
        start.l = l(Math.pow(t, y));
        start.opacity = opacity(t);
        return start + "";
      };
    }

    cubehelix$$1.gamma = cubehelixGamma;

    return cubehelix$$1;
  })(1);
}

var cubehelix$2 = cubehelix$1(hue);
var cubehelixLong = cubehelix$1(nogamma);

var quantize = function(interpolator, n) {
  var samples = new Array(n);
  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));
  return samples;
};

exports.interpolate = value;
exports.interpolateArray = array;
exports.interpolateBasis = basis$1;
exports.interpolateBasisClosed = basisClosed;
exports.interpolateDate = date;
exports.interpolateNumber = number;
exports.interpolateObject = object;
exports.interpolateRound = round;
exports.interpolateString = string;
exports.interpolateTransformCss = interpolateTransformCss;
exports.interpolateTransformSvg = interpolateTransformSvg;
exports.interpolateZoom = zoom;
exports.interpolateRgb = rgb$1;
exports.interpolateRgbBasis = rgbBasis;
exports.interpolateRgbBasisClosed = rgbBasisClosed;
exports.interpolateHsl = hsl$2;
exports.interpolateHslLong = hslLong;
exports.interpolateLab = lab$1;
exports.interpolateHcl = hcl$2;
exports.interpolateHclLong = hclLong;
exports.interpolateCubehelix = cubehelix$2;
exports.interpolateCubehelixLong = cubehelixLong;
exports.quantize = quantize;

Object.defineProperty(exports, '__esModule', { value: true });

})));

},{"d3-color":1}],6:[function(require,module,exports){
// https://d3js.org/d3-selection/ Version 1.0.3. Copyright 2016 Mike Bostock.
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
  typeof define === 'function' && define.amd ? define(['exports'], factory) :
  (factory((global.d3 = global.d3 || {})));
}(this, (function (exports) { 'use strict';

var xhtml = "http://www.w3.org/1999/xhtml";

var namespaces = {
  svg: "http://www.w3.org/2000/svg",
  xhtml: xhtml,
  xlink: "http://www.w3.org/1999/xlink",
  xml: "http://www.w3.org/XML/1998/namespace",
  xmlns: "http://www.w3.org/2000/xmlns/"
};

var namespace = function(name) {
  var prefix = name += "", i = prefix.indexOf(":");
  if (i >= 0 && (prefix = name.slice(0, i)) !== "xmlns") name = name.slice(i + 1);
  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;
};

function creatorInherit(name) {
  return function() {
    var document = this.ownerDocument,
        uri = this.namespaceURI;
    return uri === xhtml && document.documentElement.namespaceURI === xhtml
        ? document.createElement(name)
        : document.createElementNS(uri, name);
  };
}

function creatorFixed(fullname) {
  return function() {
    return this.ownerDocument.createElementNS(fullname.space, fullname.local);
  };
}

var creator = function(name) {
  var fullname = namespace(name);
  return (fullname.local
      ? creatorFixed
      : creatorInherit)(fullname);
};

var nextId = 0;

function local() {
  return new Local;
}

function Local() {
  this._ = "@" + (++nextId).toString(36);
}

Local.prototype = local.prototype = {
  constructor: Local,
  get: function(node) {
    var id = this._;
    while (!(id in node)) if (!(node = node.parentNode)) return;
    return node[id];
  },
  set: function(node, value) {
    return node[this._] = value;
  },
  remove: function(node) {
    return this._ in node && delete node[this._];
  },
  toString: function() {
    return this._;
  }
};

var matcher = function(selector) {
  return function() {
    return this.matches(selector);
  };
};

if (typeof document !== "undefined") {
  var element = document.documentElement;
  if (!element.matches) {
    var vendorMatches = element.webkitMatchesSelector
        || element.msMatchesSelector
        || element.mozMatchesSelector
        || element.oMatchesSelector;
    matcher = function(selector) {
      return function() {
        return vendorMatches.call(this, selector);
      };
    };
  }
}

var matcher$1 = matcher;

var filterEvents = {};

exports.event = null;

if (typeof document !== "undefined") {
  var element$1 = document.documentElement;
  if (!("onmouseenter" in element$1)) {
    filterEvents = {mouseenter: "mouseover", mouseleave: "mouseout"};
  }
}

function filterContextListener(listener, index, group) {
  listener = contextListener(listener, index, group);
  return function(event) {
    var related = event.relatedTarget;
    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {
      listener.call(this, event);
    }
  };
}

function contextListener(listener, index, group) {
  return function(event1) {
    var event0 = exports.event; // Events can be reentrant (e.g., focus).
    exports.event = event1;
    try {
      listener.call(this, this.__data__, index, group);
    } finally {
      exports.event = event0;
    }
  };
}

function parseTypenames(typenames) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name = "", i = t.indexOf(".");
    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);
    return {type: t, name: name};
  });
}

function onRemove(typename) {
  return function() {
    var on = this.__on;
    if (!on) return;
    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {
      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {
        this.removeEventListener(o.type, o.listener, o.capture);
      } else {
        on[++i] = o;
      }
    }
    if (++i) on.length = i;
    else delete this.__on;
  };
}

function onAdd(typename, value, capture) {
  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;
  return function(d, i, group) {
    var on = this.__on, o, listener = wrap(value, i, group);
    if (on) for (var j = 0, m = on.length; j < m; ++j) {
      if ((o = on[j]).type === typename.type && o.name === typename.name) {
        this.removeEventListener(o.type, o.listener, o.capture);
        this.addEventListener(o.type, o.listener = listener, o.capture = capture);
        o.value = value;
        return;
      }
    }
    this.addEventListener(typename.type, listener, capture);
    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};
    if (!on) this.__on = [o];
    else on.push(o);
  };
}

var selection_on = function(typename, value, capture) {
  var typenames = parseTypenames(typename + ""), i, n = typenames.length, t;

  if (arguments.length < 2) {
    var on = this.node().__on;
    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {
      for (i = 0, o = on[j]; i < n; ++i) {
        if ((t = typenames[i]).type === o.type && t.name === o.name) {
          return o.value;
        }
      }
    }
    return;
  }

  on = value ? onAdd : onRemove;
  if (capture == null) capture = false;
  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));
  return this;
};

function customEvent(event1, listener, that, args) {
  var event0 = exports.event;
  event1.sourceEvent = exports.event;
  exports.event = event1;
  try {
    return listener.apply(that, args);
  } finally {
    exports.event = event0;
  }
}

var sourceEvent = function() {
  var current = exports.event, source;
  while (source = current.sourceEvent) current = source;
  return current;
};

var point = function(node, event) {
  var svg = node.ownerSVGElement || node;

  if (svg.createSVGPoint) {
    var point = svg.createSVGPoint();
    point.x = event.clientX, point.y = event.clientY;
    point = point.matrixTransform(node.getScreenCTM().inverse());
    return [point.x, point.y];
  }

  var rect = node.getBoundingClientRect();
  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];
};

var mouse = function(node) {
  var event = sourceEvent();
  if (event.changedTouches) event = event.changedTouches[0];
  return point(node, event);
};

function none() {}

var selector = function(selector) {
  return selector == null ? none : function() {
    return this.querySelector(selector);
  };
};

var selection_select = function(select) {
  if (typeof select !== "function") select = selector(select);

  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {
      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {
        if ("__data__" in node) subnode.__data__ = node.__data__;
        subgroup[i] = subnode;
      }
    }
  }

  return new Selection(subgroups, this._parents);
};

function empty() {
  return [];
}

var selectorAll = function(selector) {
  return selector == null ? empty : function() {
    return this.querySelectorAll(selector);
  };
};

var selection_selectAll = function(select) {
  if (typeof select !== "function") select = selectorAll(select);

  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        subgroups.push(select.call(node, node.__data__, i, group));
        parents.push(node);
      }
    }
  }

  return new Selection(subgroups, parents);
};

var selection_filter = function(match) {
  if (typeof match !== "function") match = matcher$1(match);

  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {
      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {
        subgroup.push(node);
      }
    }
  }

  return new Selection(subgroups, this._parents);
};

var sparse = function(update) {
  return new Array(update.length);
};

var selection_enter = function() {
  return new Selection(this._enter || this._groups.map(sparse), this._parents);
};

function EnterNode(parent, datum) {
  this.ownerDocument = parent.ownerDocument;
  this.namespaceURI = parent.namespaceURI;
  this._next = null;
  this._parent = parent;
  this.__data__ = datum;
}

EnterNode.prototype = {
  constructor: EnterNode,
  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },
  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },
  querySelector: function(selector) { return this._parent.querySelector(selector); },
  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }
};

var constant = function(x) {
  return function() {
    return x;
  };
};

var keyPrefix = "$"; // Protect against keys like “__proto__”.

function bindIndex(parent, group, enter, update, exit, data) {
  var i = 0,
      node,
      groupLength = group.length,
      dataLength = data.length;

  // Put any non-null nodes that fit into update.
  // Put any null nodes into enter.
  // Put any remaining data into enter.
  for (; i < dataLength; ++i) {
    if (node = group[i]) {
      node.__data__ = data[i];
      update[i] = node;
    } else {
      enter[i] = new EnterNode(parent, data[i]);
    }
  }

  // Put any non-null nodes that don’t fit into exit.
  for (; i < groupLength; ++i) {
    if (node = group[i]) {
      exit[i] = node;
    }
  }
}

function bindKey(parent, group, enter, update, exit, data, key) {
  var i,
      node,
      nodeByKeyValue = {},
      groupLength = group.length,
      dataLength = data.length,
      keyValues = new Array(groupLength),
      keyValue;

  // Compute the key for each node.
  // If multiple nodes have the same key, the duplicates are added to exit.
  for (i = 0; i < groupLength; ++i) {
    if (node = group[i]) {
      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);
      if (keyValue in nodeByKeyValue) {
        exit[i] = node;
      } else {
        nodeByKeyValue[keyValue] = node;
      }
    }
  }

  // Compute the key for each datum.
  // If there a node associated with this key, join and add it to update.
  // If there is not (or the key is a duplicate), add it to enter.
  for (i = 0; i < dataLength; ++i) {
    keyValue = keyPrefix + key.call(parent, data[i], i, data);
    if (node = nodeByKeyValue[keyValue]) {
      update[i] = node;
      node.__data__ = data[i];
      nodeByKeyValue[keyValue] = null;
    } else {
      enter[i] = new EnterNode(parent, data[i]);
    }
  }

  // Add any remaining nodes that were not bound to data to exit.
  for (i = 0; i < groupLength; ++i) {
    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {
      exit[i] = node;
    }
  }
}

var selection_data = function(value, key) {
  if (!value) {
    data = new Array(this.size()), j = -1;
    this.each(function(d) { data[++j] = d; });
    return data;
  }

  var bind = key ? bindKey : bindIndex,
      parents = this._parents,
      groups = this._groups;

  if (typeof value !== "function") value = constant(value);

  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {
    var parent = parents[j],
        group = groups[j],
        groupLength = group.length,
        data = value.call(parent, parent && parent.__data__, j, parents),
        dataLength = data.length,
        enterGroup = enter[j] = new Array(dataLength),
        updateGroup = update[j] = new Array(dataLength),
        exitGroup = exit[j] = new Array(groupLength);

    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);

    // Now connect the enter nodes to their following update node, such that
    // appendChild can insert the materialized enter node before this node,
    // rather than at the end of the parent node.
    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {
      if (previous = enterGroup[i0]) {
        if (i0 >= i1) i1 = i0 + 1;
        while (!(next = updateGroup[i1]) && ++i1 < dataLength);
        previous._next = next || null;
      }
    }
  }

  update = new Selection(update, parents);
  update._enter = enter;
  update._exit = exit;
  return update;
};

var selection_exit = function() {
  return new Selection(this._exit || this._groups.map(sparse), this._parents);
};

var selection_merge = function(selection) {

  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group0[i] || group1[i]) {
        merge[i] = node;
      }
    }
  }

  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }

  return new Selection(merges, this._parents);
};

var selection_order = function() {

  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {
    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {
      if (node = group[i]) {
        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);
        next = node;
      }
    }
  }

  return this;
};

var selection_sort = function(compare) {
  if (!compare) compare = ascending;

  function compareNode(a, b) {
    return a && b ? compare(a.__data__, b.__data__) : !a - !b;
  }

  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        sortgroup[i] = node;
      }
    }
    sortgroup.sort(compareNode);
  }

  return new Selection(sortgroups, this._parents).order();
};

function ascending(a, b) {
  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;
}

var selection_call = function() {
  var callback = arguments[0];
  arguments[0] = this;
  callback.apply(null, arguments);
  return this;
};

var selection_nodes = function() {
  var nodes = new Array(this.size()), i = -1;
  this.each(function() { nodes[++i] = this; });
  return nodes;
};

var selection_node = function() {

  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {
    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {
      var node = group[i];
      if (node) return node;
    }
  }

  return null;
};

var selection_size = function() {
  var size = 0;
  this.each(function() { ++size; });
  return size;
};

var selection_empty = function() {
  return !this.node();
};

var selection_each = function(callback) {

  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {
    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {
      if (node = group[i]) callback.call(node, node.__data__, i, group);
    }
  }

  return this;
};

function attrRemove(name) {
  return function() {
    this.removeAttribute(name);
  };
}

function attrRemoveNS(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}

function attrConstant(name, value) {
  return function() {
    this.setAttribute(name, value);
  };
}

function attrConstantNS(fullname, value) {
  return function() {
    this.setAttributeNS(fullname.space, fullname.local, value);
  };
}

function attrFunction(name, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null) this.removeAttribute(name);
    else this.setAttribute(name, v);
  };
}

function attrFunctionNS(fullname, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);
    else this.setAttributeNS(fullname.space, fullname.local, v);
  };
}

var selection_attr = function(name, value) {
  var fullname = namespace(name);

  if (arguments.length < 2) {
    var node = this.node();
    return fullname.local
        ? node.getAttributeNS(fullname.space, fullname.local)
        : node.getAttribute(fullname);
  }

  return this.each((value == null
      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === "function"
      ? (fullname.local ? attrFunctionNS : attrFunction)
      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));
};

var defaultView = function(node) {
  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node
      || (node.document && node) // node is a Window
      || node.defaultView; // node is a Document
};

function styleRemove(name) {
  return function() {
    this.style.removeProperty(name);
  };
}

function styleConstant(name, value, priority) {
  return function() {
    this.style.setProperty(name, value, priority);
  };
}

function styleFunction(name, value, priority) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null) this.style.removeProperty(name);
    else this.style.setProperty(name, v, priority);
  };
}

var selection_style = function(name, value, priority) {
  var node;
  return arguments.length > 1
      ? this.each((value == null
            ? styleRemove : typeof value === "function"
            ? styleFunction
            : styleConstant)(name, value, priority == null ? "" : priority))
      : defaultView(node = this.node())
          .getComputedStyle(node, null)
          .getPropertyValue(name);
};

function propertyRemove(name) {
  return function() {
    delete this[name];
  };
}

function propertyConstant(name, value) {
  return function() {
    this[name] = value;
  };
}

function propertyFunction(name, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null) delete this[name];
    else this[name] = v;
  };
}

var selection_property = function(name, value) {
  return arguments.length > 1
      ? this.each((value == null
          ? propertyRemove : typeof value === "function"
          ? propertyFunction
          : propertyConstant)(name, value))
      : this.node()[name];
};

function classArray(string) {
  return string.trim().split(/^|\s+/);
}

function classList(node) {
  return node.classList || new ClassList(node);
}

function ClassList(node) {
  this._node = node;
  this._names = classArray(node.getAttribute("class") || "");
}

ClassList.prototype = {
  add: function(name) {
    var i = this._names.indexOf(name);
    if (i < 0) {
      this._names.push(name);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  remove: function(name) {
    var i = this._names.indexOf(name);
    if (i >= 0) {
      this._names.splice(i, 1);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  contains: function(name) {
    return this._names.indexOf(name) >= 0;
  }
};

function classedAdd(node, names) {
  var list = classList(node), i = -1, n = names.length;
  while (++i < n) list.add(names[i]);
}

function classedRemove(node, names) {
  var list = classList(node), i = -1, n = names.length;
  while (++i < n) list.remove(names[i]);
}

function classedTrue(names) {
  return function() {
    classedAdd(this, names);
  };
}

function classedFalse(names) {
  return function() {
    classedRemove(this, names);
  };
}

function classedFunction(names, value) {
  return function() {
    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);
  };
}

var selection_classed = function(name, value) {
  var names = classArray(name + "");

  if (arguments.length < 2) {
    var list = classList(this.node()), i = -1, n = names.length;
    while (++i < n) if (!list.contains(names[i])) return false;
    return true;
  }

  return this.each((typeof value === "function"
      ? classedFunction : value
      ? classedTrue
      : classedFalse)(names, value));
};

function textRemove() {
  this.textContent = "";
}

function textConstant(value) {
  return function() {
    this.textContent = value;
  };
}

function textFunction(value) {
  return function() {
    var v = value.apply(this, arguments);
    this.textContent = v == null ? "" : v;
  };
}

var selection_text = function(value) {
  return arguments.length
      ? this.each(value == null
          ? textRemove : (typeof value === "function"
          ? textFunction
          : textConstant)(value))
      : this.node().textContent;
};

function htmlRemove() {
  this.innerHTML = "";
}

function htmlConstant(value) {
  return function() {
    this.innerHTML = value;
  };
}

function htmlFunction(value) {
  return function() {
    var v = value.apply(this, arguments);
    this.innerHTML = v == null ? "" : v;
  };
}

var selection_html = function(value) {
  return arguments.length
      ? this.each(value == null
          ? htmlRemove : (typeof value === "function"
          ? htmlFunction
          : htmlConstant)(value))
      : this.node().innerHTML;
};

function raise() {
  if (this.nextSibling) this.parentNode.appendChild(this);
}

var selection_raise = function() {
  return this.each(raise);
};

function lower() {
  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);
}

var selection_lower = function() {
  return this.each(lower);
};

var selection_append = function(name) {
  var create = typeof name === "function" ? name : creator(name);
  return this.select(function() {
    return this.appendChild(create.apply(this, arguments));
  });
};

function constantNull() {
  return null;
}

var selection_insert = function(name, before) {
  var create = typeof name === "function" ? name : creator(name),
      select = before == null ? constantNull : typeof before === "function" ? before : selector(before);
  return this.select(function() {
    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);
  });
};

function remove() {
  var parent = this.parentNode;
  if (parent) parent.removeChild(this);
}

var selection_remove = function() {
  return this.each(remove);
};

var selection_datum = function(value) {
  return arguments.length
      ? this.property("__data__", value)
      : this.node().__data__;
};

function dispatchEvent(node, type, params) {
  var window = defaultView(node),
      event = window.CustomEvent;

  if (event) {
    event = new event(type, params);
  } else {
    event = window.document.createEvent("Event");
    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;
    else event.initEvent(type, false, false);
  }

  node.dispatchEvent(event);
}

function dispatchConstant(type, params) {
  return function() {
    return dispatchEvent(this, type, params);
  };
}

function dispatchFunction(type, params) {
  return function() {
    return dispatchEvent(this, type, params.apply(this, arguments));
  };
}

var selection_dispatch = function(type, params) {
  return this.each((typeof params === "function"
      ? dispatchFunction
      : dispatchConstant)(type, params));
};

var root = [null];

function Selection(groups, parents) {
  this._groups = groups;
  this._parents = parents;
}

function selection() {
  return new Selection([[document.documentElement]], root);
}

Selection.prototype = selection.prototype = {
  constructor: Selection,
  select: selection_select,
  selectAll: selection_selectAll,
  filter: selection_filter,
  data: selection_data,
  enter: selection_enter,
  exit: selection_exit,
  merge: selection_merge,
  order: selection_order,
  sort: selection_sort,
  call: selection_call,
  nodes: selection_nodes,
  node: selection_node,
  size: selection_size,
  empty: selection_empty,
  each: selection_each,
  attr: selection_attr,
  style: selection_style,
  property: selection_property,
  classed: selection_classed,
  text: selection_text,
  html: selection_html,
  raise: selection_raise,
  lower: selection_lower,
  append: selection_append,
  insert: selection_insert,
  remove: selection_remove,
  datum: selection_datum,
  on: selection_on,
  dispatch: selection_dispatch
};

var select = function(selector) {
  return typeof selector === "string"
      ? new Selection([[document.querySelector(selector)]], [document.documentElement])
      : new Selection([[selector]], root);
};

var selectAll = function(selector) {
  return typeof selector === "string"
      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])
      : new Selection([selector == null ? [] : selector], root);
};

var touch = function(node, touches, identifier) {
  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;

  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {
    if ((touch = touches[i]).identifier === identifier) {
      return point(node, touch);
    }
  }

  return null;
};

var touches = function(node, touches) {
  if (touches == null) touches = sourceEvent().touches;

  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {
    points[i] = point(node, touches[i]);
  }

  return points;
};

exports.creator = creator;
exports.local = local;
exports.matcher = matcher$1;
exports.mouse = mouse;
exports.namespace = namespace;
exports.namespaces = namespaces;
exports.select = select;
exports.selectAll = selectAll;
exports.selection = selection;
exports.selector = selector;
exports.selectorAll = selectorAll;
exports.touch = touch;
exports.touches = touches;
exports.window = defaultView;
exports.customEvent = customEvent;

Object.defineProperty(exports, '__esModule', { value: true });

})));

},{}],7:[function(require,module,exports){
// https://d3js.org/d3-timer/ Version 1.0.4. Copyright 2017 Mike Bostock.
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
	typeof define === 'function' && define.amd ? define(['exports'], factory) :
	(factory((global.d3 = global.d3 || {})));
}(this, (function (exports) { 'use strict';

var frame = 0;
var timeout = 0;
var interval = 0;
var pokeDelay = 1000;
var taskHead;
var taskTail;
var clockLast = 0;
var clockNow = 0;
var clockSkew = 0;
var clock = typeof performance === "object" && performance.now ? performance : Date;
var setFrame = typeof requestAnimationFrame === "function" ? requestAnimationFrame : function(f) { setTimeout(f, 17); };

function now() {
  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);
}

function clearNow() {
  clockNow = 0;
}

function Timer() {
  this._call =
  this._time =
  this._next = null;
}

Timer.prototype = timer.prototype = {
  constructor: Timer,
  restart: function(callback, delay, time) {
    if (typeof callback !== "function") throw new TypeError("callback is not a function");
    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);
    if (!this._next && taskTail !== this) {
      if (taskTail) taskTail._next = this;
      else taskHead = this;
      taskTail = this;
    }
    this._call = callback;
    this._time = time;
    sleep();
  },
  stop: function() {
    if (this._call) {
      this._call = null;
      this._time = Infinity;
      sleep();
    }
  }
};

function timer(callback, delay, time) {
  var t = new Timer;
  t.restart(callback, delay, time);
  return t;
}

function timerFlush() {
  now(); // Get the current time, if not already set.
  ++frame; // Pretend we’ve set an alarm, if we haven’t already.
  var t = taskHead, e;
  while (t) {
    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);
    t = t._next;
  }
  --frame;
}

function wake() {
  clockNow = (clockLast = clock.now()) + clockSkew;
  frame = timeout = 0;
  try {
    timerFlush();
  } finally {
    frame = 0;
    nap();
    clockNow = 0;
  }
}

function poke() {
  var now = clock.now(), delay = now - clockLast;
  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;
}

function nap() {
  var t0, t1 = taskHead, t2, time = Infinity;
  while (t1) {
    if (t1._call) {
      if (time > t1._time) time = t1._time;
      t0 = t1, t1 = t1._next;
    } else {
      t2 = t1._next, t1._next = null;
      t1 = t0 ? t0._next = t2 : taskHead = t2;
    }
  }
  taskTail = t0;
  sleep(time);
}

function sleep(time) {
  if (frame) return; // Soonest alarm already set, or will be.
  if (timeout) timeout = clearTimeout(timeout);
  var delay = time - clockNow;
  if (delay > 24) {
    if (time < Infinity) timeout = setTimeout(wake, delay);
    if (interval) interval = clearInterval(interval);
  } else {
    if (!interval) clockLast = clockNow, interval = setInterval(poke, pokeDelay);
    frame = 1, setFrame(wake);
  }
}

var timeout$1 = function(callback, delay, time) {
  var t = new Timer;
  delay = delay == null ? 0 : +delay;
  t.restart(function(elapsed) {
    t.stop();
    callback(elapsed + delay);
  }, delay, time);
  return t;
};

var interval$1 = function(callback, delay, time) {
  var t = new Timer, total = delay;
  if (delay == null) return t.restart(callback, delay, time), t;
  delay = +delay, time = time == null ? now() : +time;
  t.restart(function tick(elapsed) {
    elapsed += total;
    t.restart(tick, total += delay, time);
    callback(elapsed);
  }, delay, time);
  return t;
};

exports.now = now;
exports.timer = timer;
exports.timerFlush = timerFlush;
exports.timeout = timeout$1;
exports.interval = interval$1;

Object.defineProperty(exports, '__esModule', { value: true });

})));

},{}],8:[function(require,module,exports){
// https://d3js.org/d3-transition/ Version 1.0.3. Copyright 2016 Mike Bostock.
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-selection'), require('d3-dispatch'), require('d3-timer'), require('d3-interpolate'), require('d3-color'), require('d3-ease')) :
  typeof define === 'function' && define.amd ? define(['exports', 'd3-selection', 'd3-dispatch', 'd3-timer', 'd3-interpolate', 'd3-color', 'd3-ease'], factory) :
  (factory((global.d3 = global.d3 || {}),global.d3,global.d3,global.d3,global.d3,global.d3,global.d3));
}(this, (function (exports,d3Selection,d3Dispatch,d3Timer,d3Interpolate,d3Color,d3Ease) { 'use strict';

var emptyOn = d3Dispatch.dispatch("start", "end", "interrupt");
var emptyTween = [];

var CREATED = 0;
var SCHEDULED = 1;
var STARTING = 2;
var STARTED = 3;
var RUNNING = 4;
var ENDING = 5;
var ENDED = 6;

var schedule = function(node, name, id, index, group, timing) {
  var schedules = node.__transition;
  if (!schedules) node.__transition = {};
  else if (id in schedules) return;
  create(node, id, {
    name: name,
    index: index, // For context during callback.
    group: group, // For context during callback.
    on: emptyOn,
    tween: emptyTween,
    time: timing.time,
    delay: timing.delay,
    duration: timing.duration,
    ease: timing.ease,
    timer: null,
    state: CREATED
  });
};

function init(node, id) {
  var schedule = node.__transition;
  if (!schedule || !(schedule = schedule[id]) || schedule.state > CREATED) throw new Error("too late");
  return schedule;
}

function set(node, id) {
  var schedule = node.__transition;
  if (!schedule || !(schedule = schedule[id]) || schedule.state > STARTING) throw new Error("too late");
  return schedule;
}

function get(node, id) {
  var schedule = node.__transition;
  if (!schedule || !(schedule = schedule[id])) throw new Error("too late");
  return schedule;
}

function create(node, id, self) {
  var schedules = node.__transition,
      tween;

  // Initialize the self timer when the transition is created.
  // Note the actual delay is not known until the first callback!
  schedules[id] = self;
  self.timer = d3Timer.timer(schedule, 0, self.time);

  function schedule(elapsed) {
    self.state = SCHEDULED;
    self.timer.restart(start, self.delay, self.time);

    // If the elapsed delay is less than our first sleep, start immediately.
    if (self.delay <= elapsed) start(elapsed - self.delay);
  }

  function start(elapsed) {
    var i, j, n, o;

    // If the state is not SCHEDULED, then we previously errored on start.
    if (self.state !== SCHEDULED) return stop();

    for (i in schedules) {
      o = schedules[i];
      if (o.name !== self.name) continue;

      // While this element already has a starting transition during this frame,
      // defer starting an interrupting transition until that transition has a
      // chance to tick (and possibly end); see d3/d3-transition#54!
      if (o.state === STARTED) return d3Timer.timeout(start);

      // Interrupt the active transition, if any.
      // Dispatch the interrupt event.
      if (o.state === RUNNING) {
        o.state = ENDED;
        o.timer.stop();
        o.on.call("interrupt", node, node.__data__, o.index, o.group);
        delete schedules[i];
      }

      // Cancel any pre-empted transitions. No interrupt event is dispatched
      // because the cancelled transitions never started. Note that this also
      // removes this transition from the pending list!
      else if (+i < id) {
        o.state = ENDED;
        o.timer.stop();
        delete schedules[i];
      }
    }

    // Defer the first tick to end of the current frame; see d3/d3#1576.
    // Note the transition may be canceled after start and before the first tick!
    // Note this must be scheduled before the start event; see d3/d3-transition#16!
    // Assuming this is successful, subsequent callbacks go straight to tick.
    d3Timer.timeout(function() {
      if (self.state === STARTED) {
        self.state = RUNNING;
        self.timer.restart(tick, self.delay, self.time);
        tick(elapsed);
      }
    });

    // Dispatch the start event.
    // Note this must be done before the tween are initialized.
    self.state = STARTING;
    self.on.call("start", node, node.__data__, self.index, self.group);
    if (self.state !== STARTING) return; // interrupted
    self.state = STARTED;

    // Initialize the tween, deleting null tween.
    tween = new Array(n = self.tween.length);
    for (i = 0, j = -1; i < n; ++i) {
      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {
        tween[++j] = o;
      }
    }
    tween.length = j + 1;
  }

  function tick(elapsed) {
    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),
        i = -1,
        n = tween.length;

    while (++i < n) {
      tween[i].call(null, t);
    }

    // Dispatch the end event.
    if (self.state === ENDING) {
      self.on.call("end", node, node.__data__, self.index, self.group);
      stop();
    }
  }

  function stop() {
    self.state = ENDED;
    self.timer.stop();
    delete schedules[id];
    for (var i in schedules) return; // eslint-disable-line no-unused-vars
    delete node.__transition;
  }
}

var interrupt = function(node, name) {
  var schedules = node.__transition,
      schedule,
      active,
      empty = true,
      i;

  if (!schedules) return;

  name = name == null ? null : name + "";

  for (i in schedules) {
    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }
    active = schedule.state > STARTING && schedule.state < ENDING;
    schedule.state = ENDED;
    schedule.timer.stop();
    if (active) schedule.on.call("interrupt", node, node.__data__, schedule.index, schedule.group);
    delete schedules[i];
  }

  if (empty) delete node.__transition;
};

var selection_interrupt = function(name) {
  return this.each(function() {
    interrupt(this, name);
  });
};

function tweenRemove(id, name) {
  var tween0, tween1;
  return function() {
    var schedule = set(this, id),
        tween = schedule.tween;

    // If this node shared tween with the previous node,
    // just assign the updated shared tween and we’re done!
    // Otherwise, copy-on-write.
    if (tween !== tween0) {
      tween1 = tween0 = tween;
      for (var i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name) {
          tween1 = tween1.slice();
          tween1.splice(i, 1);
          break;
        }
      }
    }

    schedule.tween = tween1;
  };
}

function tweenFunction(id, name, value) {
  var tween0, tween1;
  if (typeof value !== "function") throw new Error;
  return function() {
    var schedule = set(this, id),
        tween = schedule.tween;

    // If this node shared tween with the previous node,
    // just assign the updated shared tween and we’re done!
    // Otherwise, copy-on-write.
    if (tween !== tween0) {
      tween1 = (tween0 = tween).slice();
      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name) {
          tween1[i] = t;
          break;
        }
      }
      if (i === n) tween1.push(t);
    }

    schedule.tween = tween1;
  };
}

var transition_tween = function(name, value) {
  var id = this._id;

  name += "";

  if (arguments.length < 2) {
    var tween = get(this.node(), id).tween;
    for (var i = 0, n = tween.length, t; i < n; ++i) {
      if ((t = tween[i]).name === name) {
        return t.value;
      }
    }
    return null;
  }

  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));
};

function tweenValue(transition, name, value) {
  var id = transition._id;

  transition.each(function() {
    var schedule = set(this, id);
    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);
  });

  return function(node) {
    return get(node, id).value[name];
  };
}

var interpolate = function(a, b) {
  var c;
  return (typeof b === "number" ? d3Interpolate.interpolateNumber
      : b instanceof d3Color.color ? d3Interpolate.interpolateRgb
      : (c = d3Color.color(b)) ? (b = c, d3Interpolate.interpolateRgb)
      : d3Interpolate.interpolateString)(a, b);
};

function attrRemove(name) {
  return function() {
    this.removeAttribute(name);
  };
}

function attrRemoveNS(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}

function attrConstant(name, interpolate$$1, value1) {
  var value00,
      interpolate0;
  return function() {
    var value0 = this.getAttribute(name);
    return value0 === value1 ? null
        : value0 === value00 ? interpolate0
        : interpolate0 = interpolate$$1(value00 = value0, value1);
  };
}

function attrConstantNS(fullname, interpolate$$1, value1) {
  var value00,
      interpolate0;
  return function() {
    var value0 = this.getAttributeNS(fullname.space, fullname.local);
    return value0 === value1 ? null
        : value0 === value00 ? interpolate0
        : interpolate0 = interpolate$$1(value00 = value0, value1);
  };
}

function attrFunction(name, interpolate$$1, value) {
  var value00,
      value10,
      interpolate0;
  return function() {
    var value0, value1 = value(this);
    if (value1 == null) return void this.removeAttribute(name);
    value0 = this.getAttribute(name);
    return value0 === value1 ? null
        : value0 === value00 && value1 === value10 ? interpolate0
        : interpolate0 = interpolate$$1(value00 = value0, value10 = value1);
  };
}

function attrFunctionNS(fullname, interpolate$$1, value) {
  var value00,
      value10,
      interpolate0;
  return function() {
    var value0, value1 = value(this);
    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);
    value0 = this.getAttributeNS(fullname.space, fullname.local);
    return value0 === value1 ? null
        : value0 === value00 && value1 === value10 ? interpolate0
        : interpolate0 = interpolate$$1(value00 = value0, value10 = value1);
  };
}

var transition_attr = function(name, value) {
  var fullname = d3Selection.namespace(name), i = fullname === "transform" ? d3Interpolate.interpolateTransformSvg : interpolate;
  return this.attrTween(name, typeof value === "function"
      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, "attr." + name, value))
      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)
      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));
};

function attrTweenNS(fullname, value) {
  function tween() {
    var node = this, i = value.apply(node, arguments);
    return i && function(t) {
      node.setAttributeNS(fullname.space, fullname.local, i(t));
    };
  }
  tween._value = value;
  return tween;
}

function attrTween(name, value) {
  function tween() {
    var node = this, i = value.apply(node, arguments);
    return i && function(t) {
      node.setAttribute(name, i(t));
    };
  }
  tween._value = value;
  return tween;
}

var transition_attrTween = function(name, value) {
  var key = "attr." + name;
  if (arguments.length < 2) return (key = this.tween(key)) && key._value;
  if (value == null) return this.tween(key, null);
  if (typeof value !== "function") throw new Error;
  var fullname = d3Selection.namespace(name);
  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));
};

function delayFunction(id, value) {
  return function() {
    init(this, id).delay = +value.apply(this, arguments);
  };
}

function delayConstant(id, value) {
  return value = +value, function() {
    init(this, id).delay = value;
  };
}

var transition_delay = function(value) {
  var id = this._id;

  return arguments.length
      ? this.each((typeof value === "function"
          ? delayFunction
          : delayConstant)(id, value))
      : get(this.node(), id).delay;
};

function durationFunction(id, value) {
  return function() {
    set(this, id).duration = +value.apply(this, arguments);
  };
}

function durationConstant(id, value) {
  return value = +value, function() {
    set(this, id).duration = value;
  };
}

var transition_duration = function(value) {
  var id = this._id;

  return arguments.length
      ? this.each((typeof value === "function"
          ? durationFunction
          : durationConstant)(id, value))
      : get(this.node(), id).duration;
};

function easeConstant(id, value) {
  if (typeof value !== "function") throw new Error;
  return function() {
    set(this, id).ease = value;
  };
}

var transition_ease = function(value) {
  var id = this._id;

  return arguments.length
      ? this.each(easeConstant(id, value))
      : get(this.node(), id).ease;
};

var transition_filter = function(match) {
  if (typeof match !== "function") match = d3Selection.matcher(match);

  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {
      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {
        subgroup.push(node);
      }
    }
  }

  return new Transition(subgroups, this._parents, this._name, this._id);
};

var transition_merge = function(transition) {
  if (transition._id !== this._id) throw new Error;

  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group0[i] || group1[i]) {
        merge[i] = node;
      }
    }
  }

  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }

  return new Transition(merges, this._parents, this._name, this._id);
};

function start(name) {
  return (name + "").trim().split(/^|\s+/).every(function(t) {
    var i = t.indexOf(".");
    if (i >= 0) t = t.slice(0, i);
    return !t || t === "start";
  });
}

function onFunction(id, name, listener) {
  var on0, on1, sit = start(name) ? init : set;
  return function() {
    var schedule = sit(this, id),
        on = schedule.on;

    // If this node shared a dispatch with the previous node,
    // just assign the updated shared dispatch and we’re done!
    // Otherwise, copy-on-write.
    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);

    schedule.on = on1;
  };
}

var transition_on = function(name, listener) {
  var id = this._id;

  return arguments.length < 2
      ? get(this.node(), id).on.on(name)
      : this.each(onFunction(id, name, listener));
};

function removeFunction(id) {
  return function() {
    var parent = this.parentNode;
    for (var i in this.__transition) if (+i !== id) return;
    if (parent) parent.removeChild(this);
  };
}

var transition_remove = function() {
  return this.on("end.remove", removeFunction(this._id));
};

var transition_select = function(select) {
  var name = this._name,
      id = this._id;

  if (typeof select !== "function") select = d3Selection.selector(select);

  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {
      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {
        if ("__data__" in node) subnode.__data__ = node.__data__;
        subgroup[i] = subnode;
        schedule(subgroup[i], name, id, i, subgroup, get(node, id));
      }
    }
  }

  return new Transition(subgroups, this._parents, name, id);
};

var transition_selectAll = function(select) {
  var name = this._name,
      id = this._id;

  if (typeof select !== "function") select = d3Selection.selectorAll(select);

  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {
          if (child = children[k]) {
            schedule(child, name, id, k, children, inherit);
          }
        }
        subgroups.push(children);
        parents.push(node);
      }
    }
  }

  return new Transition(subgroups, parents, name, id);
};

var Selection = d3Selection.selection.prototype.constructor;

var transition_selection = function() {
  return new Selection(this._groups, this._parents);
};

function styleRemove(name, interpolate$$1) {
  var value00,
      value10,
      interpolate0;
  return function() {
    var style = d3Selection.window(this).getComputedStyle(this, null),
        value0 = style.getPropertyValue(name),
        value1 = (this.style.removeProperty(name), style.getPropertyValue(name));
    return value0 === value1 ? null
        : value0 === value00 && value1 === value10 ? interpolate0
        : interpolate0 = interpolate$$1(value00 = value0, value10 = value1);
  };
}

function styleRemoveEnd(name) {
  return function() {
    this.style.removeProperty(name);
  };
}

function styleConstant(name, interpolate$$1, value1) {
  var value00,
      interpolate0;
  return function() {
    var value0 = d3Selection.window(this).getComputedStyle(this, null).getPropertyValue(name);
    return value0 === value1 ? null
        : value0 === value00 ? interpolate0
        : interpolate0 = interpolate$$1(value00 = value0, value1);
  };
}

function styleFunction(name, interpolate$$1, value) {
  var value00,
      value10,
      interpolate0;
  return function() {
    var style = d3Selection.window(this).getComputedStyle(this, null),
        value0 = style.getPropertyValue(name),
        value1 = value(this);
    if (value1 == null) value1 = (this.style.removeProperty(name), style.getPropertyValue(name));
    return value0 === value1 ? null
        : value0 === value00 && value1 === value10 ? interpolate0
        : interpolate0 = interpolate$$1(value00 = value0, value10 = value1);
  };
}

var transition_style = function(name, value, priority) {
  var i = (name += "") === "transform" ? d3Interpolate.interpolateTransformCss : interpolate;
  return value == null ? this
          .styleTween(name, styleRemove(name, i))
          .on("end.style." + name, styleRemoveEnd(name))
      : this.styleTween(name, typeof value === "function"
          ? styleFunction(name, i, tweenValue(this, "style." + name, value))
          : styleConstant(name, i, value), priority);
};

function styleTween(name, value, priority) {
  function tween() {
    var node = this, i = value.apply(node, arguments);
    return i && function(t) {
      node.style.setProperty(name, i(t), priority);
    };
  }
  tween._value = value;
  return tween;
}

var transition_styleTween = function(name, value, priority) {
  var key = "style." + (name += "");
  if (arguments.length < 2) return (key = this.tween(key)) && key._value;
  if (value == null) return this.tween(key, null);
  if (typeof value !== "function") throw new Error;
  return this.tween(key, styleTween(name, value, priority == null ? "" : priority));
};

function textConstant(value) {
  return function() {
    this.textContent = value;
  };
}

function textFunction(value) {
  return function() {
    var value1 = value(this);
    this.textContent = value1 == null ? "" : value1;
  };
}

var transition_text = function(value) {
  return this.tween("text", typeof value === "function"
      ? textFunction(tweenValue(this, "text", value))
      : textConstant(value == null ? "" : value + ""));
};

var transition_transition = function() {
  var name = this._name,
      id0 = this._id,
      id1 = newId();

  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        var inherit = get(node, id0);
        schedule(node, name, id1, i, group, {
          time: inherit.time + inherit.delay + inherit.duration,
          delay: 0,
          duration: inherit.duration,
          ease: inherit.ease
        });
      }
    }
  }

  return new Transition(groups, this._parents, name, id1);
};

var id = 0;

function Transition(groups, parents, name, id) {
  this._groups = groups;
  this._parents = parents;
  this._name = name;
  this._id = id;
}

function transition(name) {
  return d3Selection.selection().transition(name);
}

function newId() {
  return ++id;
}

var selection_prototype = d3Selection.selection.prototype;

Transition.prototype = transition.prototype = {
  constructor: Transition,
  select: transition_select,
  selectAll: transition_selectAll,
  filter: transition_filter,
  merge: transition_merge,
  selection: transition_selection,
  transition: transition_transition,
  call: selection_prototype.call,
  nodes: selection_prototype.nodes,
  node: selection_prototype.node,
  size: selection_prototype.size,
  empty: selection_prototype.empty,
  each: selection_prototype.each,
  on: transition_on,
  attr: transition_attr,
  attrTween: transition_attrTween,
  style: transition_style,
  styleTween: transition_styleTween,
  text: transition_text,
  remove: transition_remove,
  tween: transition_tween,
  delay: transition_delay,
  duration: transition_duration,
  ease: transition_ease
};

var defaultTiming = {
  time: null, // Set on use.
  delay: 0,
  duration: 250,
  ease: d3Ease.easeCubicInOut
};

function inherit(node, id) {
  var timing;
  while (!(timing = node.__transition) || !(timing = timing[id])) {
    if (!(node = node.parentNode)) {
      return defaultTiming.time = d3Timer.now(), defaultTiming;
    }
  }
  return timing;
}

var selection_transition = function(name) {
  var id,
      timing;

  if (name instanceof Transition) {
    id = name._id, name = name._name;
  } else {
    id = newId(), (timing = defaultTiming).time = d3Timer.now(), name = name == null ? null : name + "";
  }

  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        schedule(node, name, id, i, group, timing || inherit(node, id));
      }
    }
  }

  return new Transition(groups, this._parents, name, id);
};

d3Selection.selection.prototype.interrupt = selection_interrupt;
d3Selection.selection.prototype.transition = selection_transition;

var root = [null];

var active = function(node, name) {
  var schedules = node.__transition,
      schedule,
      i;

  if (schedules) {
    name = name == null ? null : name + "";
    for (i in schedules) {
      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {
        return new Transition([[node]], root, name, +i);
      }
    }
  }

  return null;
};

exports.transition = transition;
exports.active = active;
exports.interrupt = interrupt;

Object.defineProperty(exports, '__esModule', { value: true });

})));

},{"d3-color":1,"d3-dispatch":2,"d3-ease":4,"d3-interpolate":5,"d3-selection":6,"d3-timer":7}],9:[function(require,module,exports){
// https://d3js.org/d3-zoom/ Version 1.1.1. Copyright 2016 Mike Bostock.
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-dispatch'), require('d3-drag'), require('d3-interpolate'), require('d3-selection'), require('d3-transition')) :
  typeof define === 'function' && define.amd ? define(['exports', 'd3-dispatch', 'd3-drag', 'd3-interpolate', 'd3-selection', 'd3-transition'], factory) :
  (factory((global.d3 = global.d3 || {}),global.d3,global.d3,global.d3,global.d3,global.d3));
}(this, (function (exports,d3Dispatch,d3Drag,d3Interpolate,d3Selection,d3Transition) { 'use strict';

var constant = function(x) {
  return function() {
    return x;
  };
};

function ZoomEvent(target, type, transform) {
  this.target = target;
  this.type = type;
  this.transform = transform;
}

function Transform(k, x, y) {
  this.k = k;
  this.x = x;
  this.y = y;
}

Transform.prototype = {
  constructor: Transform,
  scale: function(k) {
    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);
  },
  translate: function(x, y) {
    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);
  },
  apply: function(point) {
    return [point[0] * this.k + this.x, point[1] * this.k + this.y];
  },
  applyX: function(x) {
    return x * this.k + this.x;
  },
  applyY: function(y) {
    return y * this.k + this.y;
  },
  invert: function(location) {
    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];
  },
  invertX: function(x) {
    return (x - this.x) / this.k;
  },
  invertY: function(y) {
    return (y - this.y) / this.k;
  },
  rescaleX: function(x) {
    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));
  },
  rescaleY: function(y) {
    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));
  },
  toString: function() {
    return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
  }
};

var identity = new Transform(1, 0, 0);

transform.prototype = Transform.prototype;

function transform(node) {
  return node.__zoom || identity;
}

function nopropagation() {
  d3Selection.event.stopImmediatePropagation();
}

var noevent = function() {
  d3Selection.event.preventDefault();
  d3Selection.event.stopImmediatePropagation();
};

// Ignore right-click, since that should open the context menu.
function defaultFilter() {
  return !d3Selection.event.button;
}

function defaultExtent() {
  var e = this, w, h;
  if (e instanceof SVGElement) {
    e = e.ownerSVGElement || e;
    w = e.width.baseVal.value;
    h = e.height.baseVal.value;
  } else {
    w = e.clientWidth;
    h = e.clientHeight;
  }
  return [[0, 0], [w, h]];
}

function defaultTransform() {
  return this.__zoom || identity;
}

var zoom = function() {
  var filter = defaultFilter,
      extent = defaultExtent,
      k0 = 0,
      k1 = Infinity,
      x0 = -k1,
      x1 = k1,
      y0 = x0,
      y1 = x1,
      duration = 250,
      interpolate = d3Interpolate.interpolateZoom,
      gestures = [],
      listeners = d3Dispatch.dispatch("start", "zoom", "end"),
      touchstarting,
      touchending,
      touchDelay = 500,
      wheelDelay = 150;

  function zoom(selection) {
    selection
        .on("wheel.zoom", wheeled)
        .on("mousedown.zoom", mousedowned)
        .on("dblclick.zoom", dblclicked)
        .on("touchstart.zoom", touchstarted)
        .on("touchmove.zoom", touchmoved)
        .on("touchend.zoom touchcancel.zoom", touchended)
        .style("-webkit-tap-highlight-color", "rgba(0,0,0,0)")
        .property("__zoom", defaultTransform);
  }

  zoom.transform = function(collection, transform) {
    var selection = collection.selection ? collection.selection() : collection;
    selection.property("__zoom", defaultTransform);
    if (collection !== selection) {
      schedule(collection, transform);
    } else {
      selection.interrupt().each(function() {
        gesture(this, arguments)
            .start()
            .zoom(null, typeof transform === "function" ? transform.apply(this, arguments) : transform)
            .end();
      });
    }
  };

  zoom.scaleBy = function(selection, k) {
    zoom.scaleTo(selection, function() {
      var k0 = this.__zoom.k,
          k1 = typeof k === "function" ? k.apply(this, arguments) : k;
      return k0 * k1;
    });
  };

  zoom.scaleTo = function(selection, k) {
    zoom.transform(selection, function() {
      var e = extent.apply(this, arguments),
          t0 = this.__zoom,
          p0 = centroid(e),
          p1 = t0.invert(p0),
          k1 = typeof k === "function" ? k.apply(this, arguments) : k;
      return constrain(translate(scale(t0, k1), p0, p1), e);
    });
  };

  zoom.translateBy = function(selection, x, y) {
    zoom.transform(selection, function() {
      return constrain(this.__zoom.translate(
        typeof x === "function" ? x.apply(this, arguments) : x,
        typeof y === "function" ? y.apply(this, arguments) : y
      ), extent.apply(this, arguments));
    });
  };

  function scale(transform, k) {
    k = Math.max(k0, Math.min(k1, k));
    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);
  }

  function translate(transform, p0, p1) {
    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;
    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);
  }

  function constrain(transform, extent) {
    var dx0 = transform.invertX(extent[0][0]) - x0,
        dx1 = transform.invertX(extent[1][0]) - x1,
        dy0 = transform.invertY(extent[0][1]) - y0,
        dy1 = transform.invertY(extent[1][1]) - y1;
    return transform.translate(
      dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),
      dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)
    );
  }

  function centroid(extent) {
    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];
  }

  function schedule(transition, transform, center) {
    transition
        .on("start.zoom", function() { gesture(this, arguments).start(); })
        .on("interrupt.zoom end.zoom", function() { gesture(this, arguments).end(); })
        .tween("zoom", function() {
          var that = this,
              args = arguments,
              g = gesture(that, args),
              e = extent.apply(that, args),
              p = center || centroid(e),
              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),
              a = that.__zoom,
              b = typeof transform === "function" ? transform.apply(that, args) : transform,
              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));
          return function(t) {
            if (t === 1) t = b; // Avoid rounding error on end.
            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }
            g.zoom(null, t);
          };
        });
  }

  function gesture(that, args) {
    for (var i = 0, n = gestures.length, g; i < n; ++i) {
      if ((g = gestures[i]).that === that) {
        return g;
      }
    }
    return new Gesture(that, args);
  }

  function Gesture(that, args) {
    this.that = that;
    this.args = args;
    this.index = -1;
    this.active = 0;
    this.extent = extent.apply(that, args);
  }

  Gesture.prototype = {
    start: function() {
      if (++this.active === 1) {
        this.index = gestures.push(this) - 1;
        this.emit("start");
      }
      return this;
    },
    zoom: function(key, transform) {
      if (this.mouse && key !== "mouse") this.mouse[1] = transform.invert(this.mouse[0]);
      if (this.touch0 && key !== "touch") this.touch0[1] = transform.invert(this.touch0[0]);
      if (this.touch1 && key !== "touch") this.touch1[1] = transform.invert(this.touch1[0]);
      this.that.__zoom = transform;
      this.emit("zoom");
      return this;
    },
    end: function() {
      if (--this.active === 0) {
        gestures.splice(this.index, 1);
        this.index = -1;
        this.emit("end");
      }
      return this;
    },
    emit: function(type) {
      d3Selection.customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);
    }
  };

  function wheeled() {
    if (!filter.apply(this, arguments)) return;
    var g = gesture(this, arguments),
        t = this.__zoom,
        k = Math.max(k0, Math.min(k1, t.k * Math.pow(2, -d3Selection.event.deltaY * (d3Selection.event.deltaMode ? 120 : 1) / 500))),
        p = d3Selection.mouse(this);

    // If the mouse is in the same location as before, reuse it.
    // If there were recent wheel events, reset the wheel idle timeout.
    if (g.wheel) {
      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {
        g.mouse[1] = t.invert(g.mouse[0] = p);
      }
      clearTimeout(g.wheel);
    }

    // If this wheel event won’t trigger a transform change, ignore it.
    else if (t.k === k) return;

    // Otherwise, capture the mouse point and location at the start.
    else {
      g.mouse = [p, t.invert(p)];
      d3Transition.interrupt(this);
      g.start();
    }

    noevent();
    g.wheel = setTimeout(wheelidled, wheelDelay);
    g.zoom("mouse", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent));

    function wheelidled() {
      g.wheel = null;
      g.end();
    }
  }

  function mousedowned() {
    if (touchending || !filter.apply(this, arguments)) return;
    var g = gesture(this, arguments),
        v = d3Selection.select(d3Selection.event.view).on("mousemove.zoom", mousemoved, true).on("mouseup.zoom", mouseupped, true),
        p = d3Selection.mouse(this);

    d3Drag.dragDisable(d3Selection.event.view);
    nopropagation();
    g.mouse = [p, this.__zoom.invert(p)];
    d3Transition.interrupt(this);
    g.start();

    function mousemoved() {
      noevent();
      g.moved = true;
      g.zoom("mouse", constrain(translate(g.that.__zoom, g.mouse[0] = d3Selection.mouse(g.that), g.mouse[1]), g.extent));
    }

    function mouseupped() {
      v.on("mousemove.zoom mouseup.zoom", null);
      d3Drag.dragEnable(d3Selection.event.view, g.moved);
      noevent();
      g.end();
    }
  }

  function dblclicked() {
    if (!filter.apply(this, arguments)) return;
    var t0 = this.__zoom,
        p0 = d3Selection.mouse(this),
        p1 = t0.invert(p0),
        k1 = t0.k * (d3Selection.event.shiftKey ? 0.5 : 2),
        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments));

    noevent();
    if (duration > 0) d3Selection.select(this).transition().duration(duration).call(schedule, t1, p0);
    else d3Selection.select(this).call(zoom.transform, t1);
  }

  function touchstarted() {
    if (!filter.apply(this, arguments)) return;
    var g = gesture(this, arguments),
        touches = d3Selection.event.changedTouches,
        started,
        n = touches.length, i, t, p;

    // nopropagation();
    
    for (i = 0; i < n; ++i) {
      t = touches[i], p = d3Selection.touch(this, touches, t.identifier);
      p = [p, this.__zoom.invert(p), t.identifier];
      if (!g.touch0) g.touch0 = p, started = true;
      else if (!g.touch1) g.touch1 = p;
    }

    // If this is a dbltap, reroute to the (optional) dblclick.zoom handler.
    if (touchstarting) {
      touchstarting = clearTimeout(touchstarting);
      if (!g.touch1) {
        g.end();
        p = d3Selection.select(this).on("dblclick.zoom");
        if (p) p.apply(this, arguments);
        return;
      }
    }

    if (started) {
      touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);
      d3Transition.interrupt(this);
      g.start();
    }
  }

  function touchmoved() {
    var g = gesture(this, arguments),
        touches = d3Selection.event.changedTouches,
        n = touches.length, i, t, p, l;
    if(touches.length < 2) return; // TIP: PR? :P
    noevent();
    if (touchstarting) touchstarting = clearTimeout(touchstarting);
    for (i = 0; i < n; ++i) {
      t = touches[i], p = d3Selection.touch(this, touches, t.identifier);
      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;
      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;
    }
    t = g.that.__zoom;
    if (g.touch1) {
      var p0 = g.touch0[0], l0 = g.touch0[1],
          p1 = g.touch1[0], l1 = g.touch1[1],
          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,
          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;
      t = scale(t, Math.sqrt(dp / dl));
      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];
      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];
    }
    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];
    else return;
    //////////////////////////////
    //         FIXME:           //
    //////////////////////////////
    if(touches.length < 2) return; // TIP: PR? :P
    //////////////////////////////
    g.zoom("touch", constrain(translate(t, p, l), g.extent));
  }

  function touchended() {
    var g = gesture(this, arguments),
        touches = d3Selection.event.changedTouches,
        n = touches.length, i, t;

    nopropagation();
    if (touchending) clearTimeout(touchending);
    touchending = setTimeout(function() { touchending = null; }, touchDelay);
    for (i = 0; i < n; ++i) {
      t = touches[i];
      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;
      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;
    }
    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;
    if (!g.touch0) g.end();
  }

  zoom.filter = function(_) {
    return arguments.length ? (filter = typeof _ === "function" ? _ : constant(!!_), zoom) : filter;
  };

  zoom.extent = function(_) {
    return arguments.length ? (extent = typeof _ === "function" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;
  };

  zoom.scaleExtent = function(_) {
    return arguments.length ? (k0 = +_[0], k1 = +_[1], zoom) : [k0, k1];
  };

  zoom.translateExtent = function(_) {
    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], zoom) : [[x0, y0], [x1, y1]];
  };

  zoom.duration = function(_) {
    return arguments.length ? (duration = +_, zoom) : duration;
  };

  zoom.interpolate = function(_) {
    return arguments.length ? (interpolate = _, zoom) : interpolate;
  };

  zoom.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? zoom : value;
  };

  return zoom;
};

exports.zoom = zoom;
exports.zoomTransform = transform;
exports.zoomIdentity = identity;

Object.defineProperty(exports, '__esModule', { value: true });

})));

},{"d3-dispatch":2,"d3-drag":3,"d3-interpolate":5,"d3-selection":6,"d3-transition":8}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _utils = require('./utils.js');

var _utils2 = _interopRequireDefault(_utils);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ctx = _utils2.default._ctx;
var Shapes = {
    circleFill: {
        icon: 'border-radius:50%; background: white;',
        fn: function fn() {
            // ctx.save();
            ctx.fillStyle = this.color;
            ctx.beginPath();
            // ctx.arc(this.x * u.transform.k + u.transform.x, this.y * u.transform.k + u.transform.y, this.radius * u.transform.k , 0, 360 * Math.PI/180);
            ctx.arc(this.x, this.y, this.radius, 0, 360 * Math.PI / 180);
            ctx.fill();
            // ctx.restore();
        }
    },
    circleStroke: {
        icon: 'border-radius:50%; border:solid 2px white;',
        fn: function fn() {
            // ctx.save();
            ctx.strokeStyle = this.color;
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.radius, 0, 360 * Math.PI / 180);
            ctx.stroke();
            // ctx.restore();
        }
    },
    squareFill: {
        icon: 'background: white;',
        fn: function fn() {
            // ctx.save();
            ctx.fillStyle = this.color;
            ctx.fillRect(this.x - this.radius / 2, this.y - this.radius / 2, this.radius, this.radius);
            // ctx.restore();
        }
    },
    squareStroke: {
        icon: 'border: solid 2px white;',
        fn: function fn() {
            // ctx.save();
            ctx.strokeStyle = this.color;
            ctx.beginPath();
            ctx.rect(this.x - this.radius / 2, this.y - this.radius / 2, this.radius, this.radius);
            ctx.stroke();
            // ctx.restore();
        }
    },
    crazyFill: {
        icon: 'background:red;',
        fn: function fn() {
            // ctx.save();
            ctx.fillStyle = this.color;
            for (var i = 0; i < 10; i++) {
                var gamma = Math.sin(this.delta + i * 20 * Math.PI / 180) / 8;
                ctx.beginPath();
                ctx.arc(this.x, this.y * gamma + this.y, this.radius, 0, 360 * Math.PI / 180);
                ctx.fill();
            }
            this.delta += 0.1;
            // ctx.restore();
        }
    },
    crazyStroke: {
        icon: 'border: solid 2px red;',
        fn: function fn() {
            // ctx.save();
            ctx.fillStyle = this.color;
            for (var i = 0; i < 10; i++) {
                var gamma = Math.sin(this.delta + i * 20 * Math.PI / 180) / 4;
                ctx.beginPath();
                ctx.moveTo(this.px, this.py * gamma + this.py);
                ctx.lineTo(this.x, this.y * gamma + this.y);
                ctx.stroke();
            }
            this.delta += 0.1;
            // ctx.restore();
        }
    },
    line: {
        icon: 'height:2px; top:50%; background: white;',
        fn: function fn() {
            // ctx.save();

            // ctx.shadowBlur = this.radius/2;
            // ctx.shadowColor = this.color;
            if (this.radius % 2 === 0) {
                ctx.moveTo(this.points[0].x, this.points[0].y);
            } else {
                ctx.moveTo(this.points[0].x + 0.5, this.points[0].y + 0.5);
            }
            this.points.forEach(function (p) {
                ctx.lineTo(p.x, p.y);
            });
            // ctx.restore();
        }
    },
    radialGradient: {
        icon: 'border-radius: 50%; background-image:radial-gradient(white,black);',
        fn: function fn() {

            var lastPoint = this.points[this.points.length - 2];
            var currentPoint = this.points[this.points.length - 1];
            lastPoint = typeof lastPoint === 'undefined' ? currentPoint : lastPoint;
            var dist = _utils2.default.distanceBetween(lastPoint, currentPoint);
            var angle = _utils2.default.angleBetween(lastPoint, currentPoint);

            // ctx.save();
            for (var i = 0; i < dist; i += this.radius / 4) {

                var x = lastPoint.x + Math.sin(angle) * i;
                var y = lastPoint.y + Math.cos(angle) * i;

                var radgrad = ctx.createRadialGradient(x, y, this.radius / 4, x, y, this.radius / 2);

                radgrad.addColorStop(0, this.color);
                radgrad.addColorStop(1, 'rgba(0,0,0,0)');

                ctx.fillStyle = radgrad;
                ctx.fillRect(x - this.radius / 2, y - this.radius / 2, this.radius, this.radius);
            }
            // ctx.restore();
        }
    },
    pattern: {
        icon: 'background-image: lienar-gradient(5px white;5px black)',
        fn: function fn() {
            // ctx.save();
            ctx.fillStyle = _utils2.default.getPattern();
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.radius, 0, 360 * Math.PI / 180);
            ctx.fill();
            // ctx.restore();
        }
    },
    neighborPoints: {
        icon: '',
        fn: function fn() {

            var lastPoint = this.points[this.points.length - 2];
            var currentPoint = this.points[this.points.length - 1];
            lastPoint = typeof lastPoint === 'undefined' ? currentPoint : lastPoint;

            ctx.beginPath();
            ctx.moveTo(lastPoint.x, lastPoint.y);
            ctx.lineTo(currentPoint.x, currentPoint.y);
            ctx.stroke();

            for (var i = 0, len = this.points.length; i < len; i++) {
                var dx = this.points[i].x - currentPoint.x;
                var dy = this.points[i].y - currentPoint.y;
                var d = dx * dx + dy * dy;

                if (d < 1000) {
                    ctx.beginPath();
                    ctx.strokeStyle = this.color;
                    ctx.moveTo(currentPoint.x + dx * 0.2, currentPoint.y + dy * 0.2);
                    ctx.lineTo(this.points[i].x - dx * 0.2, this.points[i].y - dy * 0.2);
                    ctx.stroke();
                }
            }
        }
    },
    rainbow: {
        icon: 'background: blue;',
        fn: function fn() {
            // ctx.save();
            ctx.fillStyle = this.color;
            for (var i = -10; i <= 10; i++) {
                ctx.beginPath();
                ctx.arc(this.x, this.y + i, this.radius, 0, 360 * Math.PI / 180);
                ctx.fill();
            }
            // ctx.restore();
        }
    }
};

exports.default = Shapes;

},{"./utils.js":17}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _utils = require('./utils.js');

var _utils2 = _interopRequireDefault(_utils);

var _Shapes = require('./Shapes.js');

var _Shapes2 = _interopRequireDefault(_Shapes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Spray = function () {
    function Spray(options) {
        _classCallCheck(this, Spray);

        // SPRAY PROPS
        this.color = options.color || 'red';
        this.radius = options.radius || 12;
        this.controls = options.controls;
        this.painting = false;
        this.x = 0;
        this.y = 0;
        this.px = 0;
        this.py = 0;
        this.delta = 0;
        this.paint = options.shape ? _Shapes2.default[options.shape].fn.bind(this) : _Shapes2.default.line.fn.bind(this);
        // BANNER DATA
        this.intervalId = 0;
        this.dataContainer = '';
        this.webapp = options.webapp || false;
        this.points = [];
        this.paths = [];

        if (this.webapp) this.bindWebAppEvents();
        if (!this.webapp) this.bindBannerEvents();
    }

    _createClass(Spray, [{
        key: 'run',
        value: function run() {
            if (!this.webapp && this.dataContainer.length) {
                this.updatePaint(this.dataContainer);
            } else if (this.webapp) {
                if (!this.painting) return;
                this.paint();
            }
        }
    }, {
        key: 'updatePaint',
        value: function updatePaint(data) {
            var self = this;
            var d = data.split(';');
            _utils2.default._ctx.strokeStyle = this.color;
            _utils2.default._ctx.lineWidth = this.radius;
            _utils2.default._ctx.lineJoin = _utils2.default._ctx.lineCap = 'round';
            // u._ctx.beginPath();

            d.forEach(function (e) {
                var coords = e.split(',');
                self.x = coords[0];
                self.y = coords[1];
                self.points.push({
                    x: coords[0] * 1,
                    y: coords[1] * 1
                });
            });
            self.paint();
            // u._ctx.stroke();

            //FIXME: estas son pruebas para dibujar con tiempo
            // var t1 = d.shift();
            // var t2 = d.pop();
            // var ms = t2-t1;
            // var cont = 0;
            // function simulateDraw(cont){
            //     setTimeout(function(){
            //         if(cont >= d.length -1) return;
            //         var coords = (d[cont].split(','));
            //         self.x = coords[0];
            //         self.y = coords[1];
            //         simulateDraw(++cont);
            //         self.paint();
            //     },500/d.length);
            // }
            // simulateDraw(cont);
            self.dataContainer = '';
            self.points = [];
        }
    }, {
        key: 'paint',
        value: function paint() {
            // Implemented in Shapes.js
        }
    }, {
        key: 'redraw',
        value: function redraw() {
            var _this = this;

            this.paths.forEach(function (path) {
                _this.updatePaint(path);
            });
        }
    }, {
        key: 'collectData',
        value: function collectData() {
            var self = this;
            return setInterval(function () {
                _utils2.default.sendMessage('PAINT', self.dataContainer);
                self.dataContainer = '';
            }, 500);
        }
    }, {
        key: 'bindWebAppEvents',
        value: function bindWebAppEvents() {
            var _this2 = this;

            var self = this;

            //FIXME: si touchend.timestamp - touchstart.timestamp < 500,
            // tengo que aguardar (500-(TE-TS)ms) antes de llamar a sendScore().
            _utils2.default.canvas.addEventListener('touchstart', function (e) {

                _this2.painting = true;
                _this2.x = 0.5 + (e.touches[0].clientX - _utils2.default.transform.x) / _utils2.default.transform.k << 0;
                _this2.y = 0.5 + (e.touches[0].clientY - _utils2.default.transform.y) / _utils2.default.transform.k << 0;
                // this.x = e.touches[0].clientX;
                // this.y = e.touches[0].clientY;

                _this2.dataContainer += _this2.x + ',' + _this2.y + ';';
                _this2.points.push({ x: _this2.x, y: _this2.y });
            });

            _utils2.default.canvas.addEventListener('touchmove', function (e) {
                // this.x = e.touches[0].clientX;
                // this.y = e.touches[0].clientY;
                _this2.x = 0.5 + (e.touches[0].clientX - _utils2.default.transform.x) / _utils2.default.transform.k << 0;
                _this2.y = 0.5 + (e.touches[0].clientY - _utils2.default.transform.y) / _utils2.default.transform.k << 0;
                _this2.dataContainer += _this2.x + ',' + _this2.y + ';';
                _this2.points.push({ x: _this2.x, y: _this2.y });
            });

            _utils2.default.canvas.addEventListener('touchend', function (e) {
                // this.dataContainer += this.x + ',' + this.y +';' +  Date.now();

                _this2.dataContainer += _this2.x + ',' + _this2.y;
                _this2.paths.push(_this2.dataContainer);
                _this2.painting = false;
                // clearInterval(this.intervalId);
                _utils2.default.sendMessage('PAINT', _this2.dataContainer);
                _this2.dataContainer = '';
                _this2.intervalId = 0;
                _this2.points = [];
            });

            this.controls.slideRadius.addEventListener('input', function (e) {
                self.radius = e.target.value | 0;
            });
            this.controls.slideRadius.addEventListener('change', function (e) {
                _utils2.default.sendMessage('SET_RADIUS', e.target.value | 0);
            });

            for (var i = 0; i < this.controls.selectColor.length; i++) {
                this.controls.selectColor[i].addEventListener('click', function (e) {
                    self.color = e.target.dataset.value;
                    _utils2.default.sendMessage('SET_COLOR', e.target.dataset.value);
                });
            }

            for (var _i = 0; _i < this.controls.selectShape.length; _i++) {
                this.controls.selectShape[_i].addEventListener('click', function (e) {
                    self.paint = _Shapes2.default[e.target.dataset.shape].fn.bind(self);
                    _utils2.default.sendMessage('SET_SHAPE', e.target.dataset.shape);
                });
            }
            this.controls.resetDrawing.addEventListener('click', function () {
                _utils2.default.resetCanvas();
                _utils2.default.sendMessage('RESET_DRAWING');
            });
        }
    }, {
        key: 'bindBannerEvents',
        value: function bindBannerEvents() {
            _utils2.default.channelConnect.addEventListener(ci.channelconnect.Service.EventType.MESSAGE, this.messageHandler.bind(this));
        }
    }, {
        key: 'messageHandler',
        value: function messageHandler(e) {
            var jsonString = e.detail.toString().replace('\\n', '');
            var jsonObject = JSON.parse(jsonString);
            switch (jsonObject.data.message) {
                case 'PAINT':
                    this.dataContainer = jsonObject.data.data;
                    break;
                case 'SET_COLOR':
                    this.color = jsonObject.data.data;
                    break;
                case 'SET_SHAPE':
                    this.paint = _Shapes2.default[jsonObject.data.data].fn;
                    break;
                case 'SET_RADIUS':
                    this.radius = jsonObject.data.data;
                    break;
                case 'RESET_DRAWING':
                    _utils2.default.resetCanvas();
                    break;
                default:
                    console.log('Unhandled msg: ' + jsonObject.data.message, jsonObject);
                    break;
            }
        }
    }]);

    return Spray;
}();

exports.default = Spray;

},{"./Shapes.js":10,"./utils.js":17}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
/*
Copyright (c) 2011, Daniel Guerrero
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL DANIEL GUERRERO BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

/**
 * Uses the new array typed in javascript to binary base64 encode/decode
 * at the moment just decodes a binary base64 encoded
 * into either an ArrayBuffer (decodeArrayBuffer)
 * or into an Uint8Array (decode)
 * 
 * References:
 * https://developer.mozilla.org/en/JavaScript_typed_arrays/ArrayBuffer
 * https://developer.mozilla.org/en/JavaScript_typed_arrays/Uint8Array
 */

var Base64Binary = {
	_keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",

	/* will return a  Uint8Array type */
	decodeArrayBuffer: function decodeArrayBuffer(input) {
		var bytes = input.length / 4 * 3;
		var ab = new ArrayBuffer(bytes);
		this.decode(input, ab);

		return ab;
	},

	decode: function decode(input, arrayBuffer) {
		//get last chars to see if are valid
		var lkey1 = this._keyStr.indexOf(input.charAt(input.length - 1));
		var lkey2 = this._keyStr.indexOf(input.charAt(input.length - 2));

		var bytes = input.length / 4 * 3;
		if (lkey1 == 64) bytes--; //padding chars, so skip
		if (lkey2 == 64) bytes--; //padding chars, so skip

		var uarray;
		var chr1, chr2, chr3;
		var enc1, enc2, enc3, enc4;
		var i = 0;
		var j = 0;

		if (arrayBuffer) uarray = new Uint8Array(arrayBuffer);else uarray = new Uint8Array(bytes);

		input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");

		for (i = 0; i < bytes; i += 3) {
			//get the 3 octects in 4 ascii chars
			enc1 = this._keyStr.indexOf(input.charAt(j++));
			enc2 = this._keyStr.indexOf(input.charAt(j++));
			enc3 = this._keyStr.indexOf(input.charAt(j++));
			enc4 = this._keyStr.indexOf(input.charAt(j++));

			chr1 = enc1 << 2 | enc2 >> 4;
			chr2 = (enc2 & 15) << 4 | enc3 >> 2;
			chr3 = (enc3 & 3) << 6 | enc4;

			uarray[i] = chr1;
			if (enc3 != 64) uarray[i + 1] = chr2;
			if (enc4 != 64) uarray[i + 2] = chr3;
		}

		return uarray;
	}
};

exports.default = Base64Binary;

},{}],13:[function(require,module,exports){
'use strict';

var _utils = require('./utils.js');

var _utils2 = _interopRequireDefault(_utils);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

window.gwd = window.gwd || {};
gwd.auto_Jogar_btClick = function (event) {
  // GWD Predefined Function
  gwd.actions.timeline.gotoAndPause('jogar_bt', 'on');
};
gwd.init = function (event) {
  init();
};
gwd.openConnection = function (event) {
  gwd.actions.events.removeHandler('jogar_bt', 'click', gwd.openConnection, false);
  _utils2.default.addListeners();
};
gwd.setQR = function (event) {
  //document.getElementById('url').innerHTML = shortURL.toUpperCase();
  var chartUrl = 'https://chart.googleapis.com/chart?';
  chartUrl += 'chs=150x150&cht=qr&';
  chartUrl += 'chl=' + encodeURI(shortURL);
  document.getElementById('qr-code').setAttribute('source', chartUrl);
};
gwd.restartGame = function (event) {
  console.log(_endedByMobile);
  if (_endedByMobile) {
    restartGame();
  } else {
    _endedByMobile = false;
    _connected = false;
    gwd.actions.gwdPagedeck.goToPage('pagedeck', 'page1_1', 'fade', 500, 'linear', 'top');
  }
};
gwd.auto_Novamente_1Click = function (event) {
  // GWD Predefined Function
  gwd.actions.gwdPagedeck.goToPage('pagedeck', 'page1_2', 'fade', 500, 'linear', 'top');
};
gwd.readyToStart = function (event) {
  readyToStart();
};
gwd.auto_ChannelClick = function (event) {
  // GWD Predefined Function
  gwd.actions.events.setInlineStyle('loader', 'opacity: 1; ');
};
gwd.auto_ChannelClick1 = function (event) {
  // GWD Predefined Function
  gwd.actions.events.setInlineStyle('jogar_bt', 'visibility: hidden; ');
};
gwd.auto_Gwd_imagebutton_2Click = function (event) {
  // GWD Predefined Function
  gwd.actions.gwdDoubleclick.exit('gwd-ad', 'clickTag', 'http://www.chevrolet.com.br/carros/onix.html ', false, false);
};
gwd.auto_ChannelMouseover = function (event) {
  // GWD Predefined Function
  gwd.actions.timeline.gotoAndPause('jogar_bt', 'on');
};
gwd.auto_ChannelMouseover1 = function (event) {
  // GWD Predefined Function
  gwd.actions.events.setInlineStyle('jogar_bt', 'opacity: 0.8; ');
};
gwd.auto_ChannelMouseout = function (event) {
  // GWD Predefined Function
  gwd.actions.events.setInlineStyle('jogar_bt', 'opacity: 1; ');
};
gwd.auto_Novamente_1Mouseover = function (event) {
  // GWD Predefined Function
  gwd.actions.events.setInlineStyle('novamente_1', 'opacity: 0.8; ');
};
gwd.auto_Novamente_1Mouseout = function (event) {
  // GWD Predefined Function
  gwd.actions.events.setInlineStyle('novamente_1', 'opacity: 1; ');
};
gwd.auto_Novamente_1Mouseover1 = function (event) {
  // GWD Predefined Function
  gwd.actions.timeline.gotoAndPause('novamente_1', 'on');
};
gwd.auto__LoaderEvent_3 = function (event) {
  // GWD Predefined Function
  gwd.actions.timeline.gotoAndPlay(' loader', 'start');
};
gwd.auto_Taparea_inicialClick = function (event) {
  // GWD Predefined Function
  gwd.actions.gwdDoubleclick.exit('gwd-ad', 'exitInitialFrame', 'http://www.chevrolet.com.br/carros/onix.html ', false, false);
};

},{"./utils.js":17}],14:[function(require,module,exports){
'use strict';

(function () {
  var gwdAd = document.getElementById('gwd-ad');

  /**
   * Handles the DOMContentLoaded event. The DOMContentLoaded event is
   * fired when the document has been completely loaded and parsed.
   */
  function handleDomContentLoaded(event) {}

  /**
   * Handles the WebComponentsReady event. This event is fired when all
   * custom elements have been registered and upgraded.
   */
  function handleWebComponentsReady(event) {
    // Start the Ad lifecycle.
    if (Enabler.isInitialized()) {
      enablerInitHandler();
    } else {
      Enabler.addEventListener(studio.events.StudioEvent.INIT, enablerInitHandler);
    }

    function enablerInitHandler() {
      setTimeout(function () {
        gwdAd.initAd();
      }, 0);
    }
  }

  /**
   * Handles the event that is dispatched after the Ad has been
   * initialized and before the default page of the Ad is shown.
   */
  function handleAdInitialized(event) {}

  window.addEventListener('DOMContentLoaded', handleDomContentLoaded, false);
  window.addEventListener('WebComponentsReady', handleWebComponentsReady, false);
  window.addEventListener('adinitialized', handleAdInitialized, false);
})();

},{}],15:[function(require,module,exports){
'use strict';

var _utils = require('./utils.js');

var _utils2 = _interopRequireDefault(_utils);

require('./gwd-handlers.js');

require('./gwd-init-code.js');

require('./ui.js');

var _Spray = require('./Spray.js');

var _Spray2 = _interopRequireDefault(_Spray);

var _d3Zoom = require('d3-zoom');

var _d3Selection = require('d3-selection');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// FIXME: 
// - REFACTORIZAR TODO PARA QUE SOPORTE EL ZOOM.
//   > Va a ser necesario grabar todo en "paths"
//   > Buena oportunidad para implementar comandos: undo/redo
// - Utilizar D3 o hacer el zoom a mano?
(function () {

    var controls = _utils2.default.isWEBAPP ? {
        slideRadius: document.getElementById('slideRadius'),
        selectColor: document.getElementsByClassName('selectColor'),
        selectShape: document.getElementsByClassName('selectShape'),
        resetDrawing: document.getElementById('btn-refresh')
    } : null;

    var spray = window.spray = new _Spray2.default({
        controls: controls,
        webapp: _utils2.default.isWEBAPP
    });

    var canvas = (0, _d3Selection.select)('canvas');
    var ctx = _utils2.default.ctx;
    var _canvas = _utils2.default._canvas;
    var _ctx = _utils2.default._ctx;

    function zoomed_offcanvas(e) {

        _ctx.save();
        _ctx.clearRect(0, 0, _utils2.default.CANVAS_WIDTH, _utils2.default.CANVAS_HEIGHT);
        _utils2.default.transform = (0, _d3Zoom.zoomTransform)(this);
        _ctx.translate(_utils2.default.transform.x, _utils2.default.transform.y);
        _ctx.scale(_utils2.default.transform.k, _utils2.default.transform.k);
        _utils2.default.makeClip(_ctx);
        spray.redraw();
        _ctx.restore();

        ctx.clearRect(0, 0, _utils2.default.CANVAS_WIDTH, _utils2.default.CANVAS_HEIGHT);
    }

    function zoomed_canvas(e) {

        _utils2.default.transform = (0, _d3Zoom.zoomTransform)(this);
        _ctx.clearRect(0, 0, _utils2.default.CANVAS_WIDTH, _utils2.default.CANVAS_HEIGHT);
        _ctx.save();
        _ctx.clearRect(0, 0, _utils2.default.CANVAS_WIDTH, _utils2.default.CANVAS_HEIGHT);
        _ctx.translate(_utils2.default.transform.x, _utils2.default.transform.y);
        _ctx.scale(_utils2.default.transform.k, _utils2.default.transform.k);
        _utils2.default.makeClip(_ctx);
        spray.redraw();
        _ctx.restore();

        ctx.clearRect(0, 0, _utils2.default.CANVAS_WIDTH, _utils2.default.CANVAS_HEIGHT);
    }
    canvas.call((0, _d3Zoom.zoom)().scaleExtent([1, 4]).on('zoom', zoomed_canvas)).on('dblclick.zoom', null);

    function setup_off() {
        _ctx.miterLimit = 10;
        _ctx.save();
        _utils2.default.makeClip(_ctx);
        _ctx.fillStyle = "white";
        _ctx.fillRect(0, 0, _utils2.default.width, _utils2.default.height);
        _ctx.restore();
    }
    function setup() {
        setup_off();
        ctx.imageSmoothingEnabled = false;
        loop();
    }
    function update() {
        ++_utils2.default.frameCount;
        //spray.painting = true;
    }
    function render_off() {

        _ctx.save();
        _ctx.translate(_utils2.default.transform.x, _utils2.default.transform.y);
        _ctx.scale(_utils2.default.transform.k, _utils2.default.transform.k);
        _utils2.default.makeClip(_ctx);
        spray.run();
        if (_utils2.default.suvloaded) _ctx.drawImage(_utils2.default.suv, 0, 0, _utils2.default.CANVAS_WIDTH, _utils2.default.CANVAS_HEIGHT);
        _ctx.restore();

        // if(u.suvtloaded) _ctx.drawImage(u.suvt,0,0,u.CANVAS_WIDTH,u.CANVAS_HEIGHT);
    }
    function render() {

        render_off();

        // ctx.save();
        // ctx.translate(u.transform.x, u.transform.y);
        // ctx.scale(u.transform.k, u.transform.k);
        ctx.drawImage(_canvas, 0, 0, _canvas.width, _canvas.height);
        // _ctx.clearRect(0,0,u.CANVAS_WIDTH,u.CANVAS_HEIGHT);
        // ctx.restore();
    }

    function loop() {
        _utils2.default.reqId = requestAnimationFrame(loop);
        update();
        render();
    }

    //FIXME: this will happen once the user clicks on a start CTA
    if (_utils2.default.isWEBAPP) {
        if (window.navigator.userAgent.indexOf('iPhone') === -1 && window.navigator.userAgent.indexOf('iPad') === -1) {

            document.getElementById('fullscreen').addEventListener('click', function () {
                _utils2.default.toggleFullScreen();
                setTimeout(function () {
                    _utils2.default.setSizes();
                    setup();
                }.bind(_utils2.default), 1500);
            });
        } else {

            document.getElementById('fullscreen').addEventListener('click', function () {
                _utils2.default.setSizes();
                setup();
                document.getElementById('fullscreen').remove();
            });
        }
        window.addEventListener('deviceorientation', function (e) {
            if (window.innerHeight > window.innerWidth) {
                _utils2.default.portraitAlert.classList.add('active');
            } else {
                _utils2.default.portraitAlert.classList.remove('active');
            }
        });
    } else {

        // Listen for the init event.
        window.addEventListener('initialize_canvas', function (e) {
            setup();
        }, false);
    }
})();

},{"./Spray.js":11,"./gwd-handlers.js":13,"./gwd-init-code.js":14,"./ui.js":16,"./utils.js":17,"d3-selection":6,"d3-zoom":9}],16:[function(require,module,exports){
'use strict';

var _utils = require('./utils.js');

var _utils2 = _interopRequireDefault(_utils);

var _Shapes = require('./Shapes.js');

var _Shapes2 = _interopRequireDefault(_Shapes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function openBoxColor() {
				if (this.className == "btn-ui") {
								this.className += ' active';
				} else {
								this.className = 'btn-ui';
				}
}

function closeBoxHelp() {
				boxHelp.style.display = 'none';
				coverOverlay.style.display = 'none';
}

if (_utils2.default.isWEBAPP) {
				var btnHelp = document.getElementById('btn-help'),
				    boxHelp = document.getElementById('box-help'),
				    coverOverlay = document.getElementById('cover-overlay'),
				    finishBtn = document.getElementById('btn-finish'),
				    imgResult = document.getElementById('canvasresult'),
				    shareContainer = document.getElementById('share-container'),
				    shareBtn = document.getElementById('share-btn'),
				    ogImageEl = document.querySelector('meta[property="og:image"]');

				btnHelp.addEventListener('click', function () {
								boxHelp.style.display = 'block';
								coverOverlay.style.display = 'block';
				});
				coverOverlay.addEventListener('click', closeBoxHelp);

				/* color */
				var btnUi = document.getElementsByClassName('btn-ui');

				for (var i = 0; i < btnUi.length; i++) {
								btnUi[i].addEventListener('click', openBoxColor);
				}

				finishBtn.addEventListener('click', function () {

								cancelAnimationFrame(_utils2.default.reqId);
								_utils2.default.suvt.remove();
								_utils2.default.ctx.drawImage(_utils2.default.suvt, 0, 0, _utils2.default.CANVAS_WIDTH, _utils2.default.CANVAS_HEIGHT);

								shareContainer.classList.add('active');
								imgResult.onload = function () {
												shareBtn.addEventListener('click', function () {
																_utils2.default.postCanvasToFacebook();
												});
								};
								imgResult.src = _utils2.default.canvas.toDataURL();
				});

				// Generate Shapes markup
				var shapesCont = document.getElementById('shape-selector');
				var shapeUl = document.createElement('ul');
				var c = 2;
				for (var shape in _Shapes2.default) {
								var li = document.createElement('li');
								li.className = 'selectShape';
								li.dataset.shape = shape;
								li.style = _Shapes2.default[shape].icon;
								shapeUl.append(li);
								c++;
				}
				shapeUl.style.width = c * 48 + 'px';
				shapesCont.append(shapeUl);

				// Generate Colors markup
				// TIP: isnt better to use a colorpicker plugin?
				var colorCont = document.getElementById('color-selector');
				var colorUl = document.createElement('ul');
				var step = 64;
				var cont = 1;

				for (var _i = 0; _i < 256; _i += step) {
								var r = _i;
								for (var _i2 = 0; _i2 < 256; _i2 += step) {
												var g = _i2;
												for (var _i3 = 0; _i3 < 256; _i3 += step) {
																var b = _i3;
																var li = document.createElement('li');
																li.className = 'selectColor';
																li.dataset.value = 'rgb(' + r + ',' + g + ',' + b + ')';
																li.style.background = 'rgb(' + r + ',' + g + ',' + b + ')';
																cont++;
																colorUl.append(li);
												}
								}
				}
				colorUl.style.width = cont * 48 + 'px';
				colorCont.append(colorUl);
}

},{"./Shapes.js":10,"./utils.js":17}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _base64Binary = require('./base64Binary.js');

var _base64Binary2 = _interopRequireDefault(_base64Binary);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UTILS = {
    // General
    canvas: document.getElementById('canvas'),
    ctx: canvas.getContext('2d'),
    _canvas: document.createElement('canvas'),
    reqId: 0,
    spray: undefined,
    frameCount: 0,
    cont: 0.0,
    CANVAS_WIDTH: 640,
    CANVAS_HEIGHT: 307,
    BANNER_WIDTH: 970,
    BANNER_HEIGHT: 250,
    portraitAlert: document.getElementById('portraitAlert'),
    transform: {
        x: 0,
        y: 0,
        k: 1
    },

    // Entorno
    isWEBAPP: document.title.indexOf('WebApp') !== -1,
    isBANNER: document.title.indexOf('WebApp') === -1,
    isINITIALIZED: false,

    //SUV IMG's
    SUV_IMG_WIDTH: 1054,
    SUV_IMG_HEIGHT: 502,
    SCALE_FACTOR_X: 0,
    SCALE_FACTOR_Y: 0,
    // suvt : document.getElementById('suv-transparency'),
    suvt: new Image(),
    suvtSrc: 'suv-transparency-posterized-32.png',
    suvtloaded: false,
    suvloaded: false,
    suv: new Image(),
    suvSrc: 'suv.png',

    //Doubleclick
    service: document.createElement('ci-channelconnect-service'),
    channelConnect: typeof ci !== 'undefined' ? ci.channelconnect.Service.getInstance() : null,
    MOBILE_ASSET_URL: window.location.href.indexOf('localhost') !== -1 ? 'http://10.226.110.134:3000' : 'https://s0.2mdn.net/ads/richmedia/studio/47209088/index.html' + '?ord=%' + Date.now(),

    addListeners: function addListeners() {

        this.service.setAttribute('mobileurl', this.MOBILE_ASSET_URL);

        this.channelConnect.addEventListener(ci.channelconnect.Service.EventType.OPEN, this.openHandler.bind(this));
        this.channelConnect.addEventListener(ci.channelconnect.Service.EventType.SHORT_MOBILE_URL, this.mobileUrlHandler.bind(this));
        this.channelConnect.addEventListener(ci.channelconnect.Service.EventType.MESSAGE, this.messageHandler.bind(this));
    },
    openHandler: function openHandler() {
        this.channelConnect.removeEventListener(ci.channelconnect.Service.EventType.OPEN, this.openHandler);
        this.channelConnect.requestShortMobileUrl();
    },
    mobileUrlHandler: function mobileUrlHandler(evt) {
        var shortURL = evt.detail.id;

        console.log(shortURL);
        var url = document.getElementById('shortUrl');
        url.innerHTML = shortURL;
        setTimeout(function () {
            var gwdAd = document.getElementById('gwd-ad');
            gwdAd.style.display = 'none';
        }, 5000);

        this.channelConnect.removeEventListener(ci.channelconnect.Service.EventType.SHORT_MOBILE_URL, this.mobileUrlHandler);
        //console.log(channelConnect.getAttribute('mobileurl') + '?id=' + channelConnect.getSessionId())
        // gwd.actions.gwdPagedeck.goToPage('gwd-ad', 'page1_1', 'none', 1000, 'linear', 'top');
        // gwd.actions.timeline.gotoAndPlay('page1_1', 'init');
    },
    messageHandler: function messageHandler(evt) {

        var jsonString = evt.detail.toString().replace('\\n', '');
        var jsonObject = JSON.parse(jsonString);

        console.log(jsonObject);

        switch (jsonObject.data.message) {
            case 'MOBILE_CONNECTED':
                break;
            //FIXME: Should enter here once certain about the client viewport size.
            case 'INITIALIZE':
                var scaler = document.getElementById('scaler');
                var scaleFactor = 250 * 100 / jsonObject.data.data.device.h / 100;
                scaler.style.transform = 'scale(' + scaleFactor + ',' + scaleFactor + ') translate(172px,32px)';
                this.setSizes(jsonObject.data.data.device.w, jsonObject.data.data.device.h);
                var event = new Event('initialize_canvas');
                window.dispatchEvent(event);
                break;
            default:
                console.log('Unhandled msg: ' + jsonObject.data.message, jsonObject);
                break;
        }
    },

    // Helper functions
    rad: function rad(deg) {
        return deg * Math.PI / 180;
    },
    map: function map(a, b, c, d, f) {
        return d + (f - d) * ((a - b) / (c - b));
    },
    random: function random(min, max) {
        return map(Math.random(), 0, 1, min, max);
    },
    distanceBetween: function distanceBetween(point1, point2) {
        return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));
    },
    angleBetween: function angleBetween(point1, point2) {
        return Math.atan2(point2.x - point1.x, point2.y - point1.y);
    },
    toggleFullScreen: function toggleFullScreen() {
        var doc = window.document;
        var docEl = doc.documentElement;

        var requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;
        var cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;

        if (!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {
            requestFullScreen.call(docEl);
            document.getElementById('fullscreen').style.display = 'none';
        } else {
            cancelFullScreen.call(doc);
        }
    },
    makeClip: function makeClip(ctx) {

        ctx.beginPath();
        ctx.save();
        ctx.strokeStyle = 'rgba(255,255,255,0)';
        ctx.scale(this.SCALE_FACTOR_X, this.SCALE_FACTOR_Y);

        ctx.moveTo(33.5, 359.5);
        ctx.lineTo(25, 379);
        ctx.lineTo(8, 375.5);
        ctx.lineTo(0, 351.5);
        ctx.lineTo(2.5, 333.5);
        ctx.lineTo(3.5, 313);
        ctx.lineTo(6.5, 296);
        ctx.lineTo(18, 284);
        ctx.lineTo(21, 284);
        ctx.lineTo(26.5, 191.5);
        ctx.lineTo(33.3, 181);
        ctx.lineTo(56, 160.5);
        ctx.lineTo(110.5, 99);
        ctx.lineTo(99.5, 91);
        ctx.lineTo(101.5, 85);
        ctx.lineTo(195, 73.5);
        ctx.lineTo(272.5, 66.5);
        ctx.lineTo(465.5, 63.5);
        ctx.lineTo(539, 69);
        ctx.bezierCurveTo(539, 69, 577.5, 74.4, 601.5, 86);
        ctx.bezierCurveTo(657.4, 113.1, 773.2, 181.4, 773.2, 181.4);
        ctx.bezierCurveTo(773.2, 181.4, 915.5, 201, 975.9000000000001, 220.4);
        ctx.bezierCurveTo(1009.2, 231.1, 1022.0000000000001, 251, 1022.0000000000001, 251);
        ctx.lineTo(1022.0000000000001, 276);
        ctx.lineTo(1034, 285.5);
        ctx.lineTo(1040, 294.5);
        ctx.lineTo(1040, 353);
        ctx.lineTo(1036, 366);
        ctx.lineTo(1036.7, 370);
        ctx.lineTo(1040.9, 376.7);
        ctx.lineTo(1040.9, 384.9);
        ctx.lineTo(1036.7, 395.09999999999997);
        ctx.lineTo(1022.8000000000001, 410.4);
        ctx.lineTo(33.5, 359.5);

        // Debugging:
        // ctx.stroke();
        ctx.restore();
        ctx.clip();
    },
    sendMessage: function sendMessage(msgType, msgData) {
        if (typeof ci !== 'undefined') {
            var message = new ci.channelconnect.ChannelMessage({
                message: msgType,
                data: msgData
            });
            this.service.sendMessage(message);
        }
    },
    setSizes: function setSizes(w, h) {
        this.width = w ? w : window.innerWidth > window.innerHeight ? window.innerWidth : window.innerHeight;
        this.height = h ? h : window.innerHeight < window.innerWidth ? window.innerHeight : window.innerWidth;
        this.CANVAS_WIDTH = this.width;
        this.CANVAS_HEIGHT = Math.ceil(this.CANVAS_WIDTH * this.SUV_IMG_HEIGHT / this.SUV_IMG_WIDTH);
        this.canvas.width = this._canvas.width = this.CANVAS_WIDTH;
        this.canvas.height = this._canvas.height = this.CANVAS_HEIGHT;

        // Used for the mask, its not 100% accurate.
        this.SCALE_FACTOR_X = this.CANVAS_WIDTH * 100 / (this.SUV_IMG_WIDTH - 7) / 100;
        this.SCALE_FACTOR_Y = (this.CANVAS_HEIGHT * 100 / this.SUV_IMG_HEIGHT + 0.5) / 100;

        this.suv.width = this.CANVAS_WIDTH;
        this.suv.height = this.CANVAS_HEIGHT;
        this.suvt.width = this.CANVAS_WIDTH;
        this.suvt.height = this.CANVAS_HEIGHT;
        this.isINITIALIZED = true;

        if (this.isWEBAPP) {

            this.sendMessage('INITIALIZE', {
                device: {
                    w: this.width,
                    h: this.height
                }
            });
        }
    },
    loadHandler: function loadHandler() {

        var self = this;
        if (typeof ci !== 'undefined') {
            this.service.connectMobile();
            this.service.addEventListener(ci.channelconnect.Service.EventType.OPEN, function () {
                var message = new ci.channelconnect.ChannelMessage({
                    message: 'MOBILE_CONNECTED',
                    device: {
                        w: window.innerWidth,
                        h: window.innerHeight
                    }
                });
                self.service.sendMessage(message);
            });

            this.service.addEventListener(ci.channelconnect.Service.EventType.MESSAGE, function (event) {
                var jsonString = event.detail.toString().replace('\\n', '');
                var jsonObject = JSON.parse(jsonString);
                console.log('Message: ', jsonObject);
            });
        }
    },
    resetCanvas: function resetCanvas() {
        this.ctx.save();
        this.makeClip();
        this.ctx.fillStyle = "white";
        this.ctx.fillRect(0, 0, this.width, this.height);
        this.ctx.restore();
    },
    postImageToFacebook: function postImageToFacebook(authToken, filename, mimeType, imageData, message) {
        // this is the multipart/form-data boundary we'll use
        var boundary = '----ThisIsTheBoundary1234567890';
        // let's encode our image file, which is contained in the var
        var formData = '--' + boundary + '\r\n';
        formData += 'Content-Disposition: form-data; name="source"; filename="' + filename + '"\r\n';
        formData += 'Content-Type: ' + mimeType + '\r\n\r\n';
        for (var i = 0; i < imageData.length; ++i) {
            formData += String.fromCharCode(imageData[i] & 0xff);
        }
        formData += '\r\n';
        formData += '--' + boundary + '\r\n';
        formData += 'Content-Disposition: form-data; name="message"\r\n\r\n';
        formData += message + '\r\n';
        formData += '--' + boundary + '--\r\n';

        var xhr = new XMLHttpRequest();
        xhr.open('POST', 'https://graph.facebook.com/me/photos?access_token=' + authToken, true);
        xhr.onload = xhr.onerror = function () {
            console.log(xhr.responseText);
        };
        xhr.setRequestHeader("Content-Type", "multipart/form-data; boundary=" + boundary);
        xhr.sendAsBinary(formData);
    },
    postCanvasToFacebook: function postCanvasToFacebook() {
        var self = this;
        var data = this.canvas.toDataURL("image/png");
        var encodedPng = data.substring(data.indexOf(',') + 1, data.length);
        var decodedPng = _base64Binary2.default.decode(encodedPng);
        FB.getLoginStatus(function (response) {
            if (response.status === "connected") {
                self.postImageToFacebook(response.authResponse.accessToken, "ChevroletTrackPaint", "image/png", decodedPng, "https://s0.2mdn.net/ads/richmedia/studio/47209088/index.html");
            } else if (response.status === "not_authorized") {
                FB.login(function (response) {
                    self.postImageToFacebook(response.authResponse.accessToken, "ChevroletTrackPaint", "image/png", decodedPng, "https://s0.2mdn.net/ads/richmedia/studio/47209088/index.html");
                }, { scope: "publish_actions" });
            } else {
                FB.login(function (response) {
                    self.postImageToFacebook(response.authResponse.accessToken, "ChevroletTrackPaint", "image/png", decodedPng, "https://s0.2mdn.net/ads/richmedia/studio/47209088/index.html");
                }, { scope: "publish_actions" });
            }
        });
    },

    getPattern: function getPattern() {
        var patternCanvas = document.createElement('canvas'),
            dotWidth = 20,
            dotDistance = 5,
            ctx = patternCanvas.getContext('2d');

        patternCanvas.width = patternCanvas.height = 10;
        ctx.strokeStyle = 'green';
        ctx.lineWidth = 5;
        ctx.beginPath();
        ctx.moveTo(0, 5);
        ctx.lineTo(10, 5);
        ctx.closePath();
        ctx.stroke();
        return ctx.createPattern(patternCanvas, 'repeat');
    }
};

// from: http://stackoverflow.com/a/5303242/945521
if (XMLHttpRequest.prototype.sendAsBinary === undefined) {
    XMLHttpRequest.prototype.sendAsBinary = function (string) {
        var bytes = Array.prototype.map.call(string, function (c) {
            return c.charCodeAt(0) & 0xff;
        });
        this.send(new Uint8Array(bytes).buffer);
    };
}

UTILS._ctx = UTILS._canvas.getContext('2d');

UTILS.suv.onload = function () {
    UTILS.suvloaded = true;
};
UTILS.suv.src = UTILS.suvSrc;
UTILS.suvt.onload = function () {
    UTILS.suvtloaded = true;
};
UTILS.suvt.src = UTILS.suvtSrc;

if (UTILS.isWEBAPP) {
    window.addEventListener('load', UTILS.loadHandler.bind(UTILS));
    // FIXME: solo para dev
    window.addEventListener('keydown', function (e) {
        if (e.keyCode === 187 || e.keyCode === 189) {
            var x, y;
            x = e.keyCode === 187 ? 0.1 : -0.1;
            y = x;
            UTILS.SCALE_X = (UTILS.SCALE_X += x).toFixed(2) * 1;
            UTILS.SCALE_Y = (UTILS.SCALE_Y += y).toFixed(2) * 1;

            console.log(UTILS.SCALE_X, UTILS.SCALE_Y);
        }
    });
}

exports.default = UTILS;

},{"./base64Binary.js":12}]},{},[15])

//# sourceMappingURL=build.js.map

</script>

<script data-exports-type="gwd-studio-registration">function StudioExports() {
Enabler.exit("clickTag", "http://www.chevrolet.com.br/carros/onix.html ");
Enabler.exit("exitInitialFrame", "http://www.chevrolet.com.br/carros/onix.html ");
}</script><script type="text/gwd-admetadata">{"version":1,"type":"DoubleClick","format":"","template":"Banner 2.3.2","politeload":true,"fullscreen":false,"counters":[],"timers":[],"exits":[{"exitId":"clickTag","url":"http://www.chevrolet.com.br/carros/onix.html "},{"exitId":"exitInitialFrame","url":"http://www.chevrolet.com.br/carros/onix.html "}],"creativeProperties":{"minWidth":970,"minHeight":250,"maxWidth":970,"maxHeight":250},"components":["gwd-doubleclick","gwd-image","gwd-imagebutton","gwd-page","gwd-pagedeck","gwd-taparea"],"responsive":false}</script>
</body></html>